!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}System.register(["./index-legacy-AqQVAtWt.js"],function(e,o){"use strict";var c,r,a,i,n,s,l,u,m,p,d,f,g,y,x;return{setters:[function(t){c=t.u,r=t.K,a=t.c,i=t.a,n=t.w,s=t.b,l=t.d,u=t.e,m=t.v,p=t.t,d=t.s,f=t.O,g=t.F,y=t.h,x=t.H}],execute:function(){var o={class:"relative bg-gray-900/60 backdrop-blur-sm border border-white/10 rounded-lg overflow-hidden group-hover:border-pink-500/30 transition-all"},b={class:"relative aspect-[3/4] bg-gray-800/50"},h=["src","alt"],v={key:0,class:"absolute top-1 left-1 sm:top-2 sm:left-2"},w={class:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-[10px] sm:text-xs bg-pink-600/70 backdrop-blur-sm border border-pink-400/60 text-white font-medium rounded-full"},k={key:1,class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1 sm:p-2"},S={class:"flex items-center justify-between text-white text-[10px] sm:text-xs"},j={class:"flex items-center gap-0.5 sm:gap-1"},M={key:0,class:"flex items-center gap-0.5 sm:gap-1"},C={class:"p-1.5 sm:p-2"},_={class:"text-xs sm:text-sm font-semibold text-white truncate"},z={key:0,class:"text-[10px] sm:text-xs text-gray-400 mt-0.5 truncate"},D={key:1,class:"text-[10px] sm:text-xs text-gray-400 mt-0.5 truncate"},B={key:2,class:"hidden sm:flex flex-wrap gap-1 mt-1"};e("_",{__name:"ComicCard",props:{comic:{type:Object,required:!0},showCollectionDate:{type:Boolean,default:!1}},setup:function(e){c();var A=e,F=function(){if(A.comic.image)return A.comic.image;var t=x();return"".concat(t,"/media/albums/").concat(A.comic.id,"_3x4.jpg")},L=function(t){t.target.src="/default.jpeg"},O=function(t){var e=new Date(t),o=new Date-e,c=Math.floor(o/864e5);if(0===c)return"今天";if(1===c)return"昨天";if(c<7)return"".concat(c,"天前");if(c<30){var r=Math.floor(c/7);return"".concat(r,"周前")}if(c<365){var a=Math.floor(c/30);return"".concat(a,"个月前")}return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))};return function(c,x){var A=r("router-link");return i(),a(A,{to:"/chapter/".concat(e.comic.id),class:"block relative group"},{default:n(function(){return[x[2]||(x[2]=s("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-lg opacity-0 group-hover:opacity-50 blur-sm transition-opacity"},null,-1)),s("div",o,[s("div",b,[s("img",{src:F(),alt:e.comic.name,class:"w-full h-full object-cover group-hover:opacity-90 transition-opacity",loading:"lazy",onError:L},null,40,h),e.comic.category?(i(),l("div",v,[s("span",w,m("object"===t(e.comic.category)?e.comic.category.title||e.comic.category.name||"":e.comic.category),1)])):u("",!0),e.comic.watched?(i(),l("div",k,[s("div",S,[s("span",j,[x[0]||(x[0]=s("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)),p(" "+m(d(f)(e.comic.watched)),1)]),e.comic.liked?(i(),l("span",M,[x[1]||(x[1]=s("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),p(" "+m(d(f)(e.comic.liked)),1)])):u("",!0)])])):u("",!0)]),s("div",C,[s("h3",_,m(e.comic.name||e.comic.title||"Unknown"),1),e.showCollectionDate&&e.comic.created_at?(i(),l("p",z," 收藏于 "+m(O(e.comic.created_at)),1)):e.comic.author||e.comic.authors?(i(),l("p",D,m(e.comic.author||(Array.isArray(e.comic.authors)?e.comic.authors.join(", "):e.comic.authors)||""),1)):u("",!0),e.comic.tags&&e.comic.tags.length?(i(),l("div",B,[(i(!0),l(g,null,y(e.comic.tags.slice(0,2),function(t){return i(),l("span",{key:t,class:"px-1.5 py-0.5 text-xs bg-gray-700 text-gray-300 rounded"},m(t),1)}),128))])):u("",!0)])])]}),_:1},8,["to"])}}})}}})}();
