import{B as e,i as t,a6 as l,r as a,s,o as r,a7 as o,d as i,a8 as n,b as d,f as u,a9 as c,N as p,S as m,e as b,P as v,U as x,aa as h,ab as w,x as f,v as g,w as y,K as k,l as C,a as V}from"./index-DgjzBZ7I.js";const j={class:"min-h-screen relative overflow-hidden"},_={class:"relative z-10 min-h-screen flex items-center justify-center p-4"},z={class:"w-full max-w-md"},M={class:"text-center mb-8 animate-fade-in-down"},U={class:"flex justify-center mb-4"},B={class:"flex mb-6 bg-black/30 backdrop-blur-md rounded-full p-1"},q={class:"bg-black/40 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl overflow-hidden"},A={class:"p-6 sm:p-8"},H={class:"group"},S={class:"relative"},L={class:"group"},I={class:"relative"},K=["type"],N={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},D={class:"flex items-center justify-between"},E={class:"flex items-center gap-2 cursor-pointer"},F={key:0,class:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg"},G={class:"text-sm text-red-400"},J=["disabled"],O={key:0,class:"relative z-10"},Q={key:1,class:"flex items-center justify-center gap-2"},R={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},T={class:"group"},W={class:"relative"},X={class:"group"},Y={class:"relative"},Z={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},$={class:"group"},ee={class:"relative"},te=["type"],le={class:"group"},ae={class:"relative"},se=["type"],re={class:"flex items-center gap-2 cursor-pointer"},oe={key:0,class:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg"},ie={class:"text-sm text-red-400"},ne=["disabled"],de={key:0,class:"relative z-10"},ue={key:1,class:"flex items-center justify-center gap-2"},ce={class:"text-center mt-6"},pe=e({__name:"AuthView",setup(e){const pe=C(),me=s(),be=t(),ve=l(),xe=a("register"!==me.name);r(()=>{"register"===me.name&&(xe.value=!1)});const he=a(!1),we=a(!1),fe=a(!1),ge=a(""),ye=a(""),ke=o({email:"",password:"",remember:!1}),Ce=o({name:"",email:"",password:"",password_confirmation:"",terms:!1,website:""}),Ve=async()=>{we.value=!0,ge.value="";try{const e=await be.login({email:ke.email,password:ke.password,remember:ke.remember});e.success?(ve.success("登录成功！"),pe.push("/")):ge.value=e.message||"登录失败，请检查您的邮箱和密码"}catch(e){ge.value="登录失败，请稍后重试"}finally{we.value=!1}},je=async()=>{if(!Ce.website)if(Ce.password===Ce.password_confirmation){fe.value=!0,ye.value="";try{const e=await be.register({name:Ce.name,email:Ce.email,password:Ce.password,password_confirmation:Ce.password_confirmation});e.success?(ve.success("注册成功！"),pe.push("/")):ye.value=e.message||"注册失败"}catch(e){ye.value="注册失败，请稍后重试"}finally{fe.value=!1}}else ye.value="两次输入的密码不一致"};return(e,t)=>{const l=k("router-link");return V(),i("div",j,[t[31]||(t[31]=n('<div class="fixed inset-0" data-v-831b5be6><img src="/img_1.png" alt="Background" class="w-full h-full object-cover" data-v-831b5be6><div class="absolute inset-0 bg-gradient-to-br from-black/70 via-purple-900/50 to-pink-900/50" data-v-831b5be6></div><div class="absolute inset-0" data-v-831b5be6><div class="particle particle-1" data-v-831b5be6></div><div class="particle particle-2" data-v-831b5be6></div><div class="particle particle-3" data-v-831b5be6></div><div class="particle particle-4" data-v-831b5be6></div></div></div>',1)),d("div",_,[d("div",z,[d("div",M,[d("div",U,[u(c,{size:"normal"})]),t[12]||(t[12]=d("p",{class:"text-gray-300 text-sm"},"记住永久地址：modu18.vip",-1))]),d("div",B,[d("button",{onClick:t[0]||(t[0]=e=>xe.value=!0),class:p(["flex-1 py-2 px-4 rounded-full text-sm font-medium transition-all duration-300",xe.value?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg shadow-pink-500/25":"text-gray-400 hover:text-white"])}," 登录 ",2),d("button",{onClick:t[1]||(t[1]=e=>xe.value=!1),class:p(["flex-1 py-2 px-4 rounded-full text-sm font-medium transition-all duration-300",xe.value?"text-gray-400 hover:text-white":"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg shadow-purple-500/25"])}," 注册 ",2)]),d("div",q,[t[29]||(t[29]=d("div",{class:"h-1 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500"},null,-1)),d("div",A,[xe.value?(V(),i("form",{key:0,onSubmit:m(Ve,["prevent"]),class:"space-y-4"},[d("div",H,[t[14]||(t[14]=d("label",{class:"block text-xs font-medium text-pink-300 mb-2 ml-1"}," 电子邮箱 ",-1)),d("div",S,[v(d("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>ke.email=e),type:"email",autocomplete:"email",required:"",class:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-pink-400 focus:bg-white/10 transition-all duration-300 pr-10",placeholder:"your@email.com"},null,512),[[x,ke.email]]),t[13]||(t[13]=d("svg",{class:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1))])]),d("div",L,[t[17]||(t[17]=d("label",{class:"block text-xs font-medium text-pink-300 mb-2 ml-1"}," 密码 ",-1)),d("div",I,[v(d("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>ke.password=e),type:he.value?"text":"password",autocomplete:"current-password",required:"",class:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-pink-400 focus:bg-white/10 transition-all duration-300 pr-10",placeholder:"••••••••"},null,8,K),[[h,ke.password]]),d("button",{type:"button",onClick:t[4]||(t[4]=e=>he.value=!he.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-pink-400 transition-colors"},[he.value?(V(),i("svg",P,[...t[16]||(t[16]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(V(),i("svg",N,[...t[15]||(t[15]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])]),d("div",D,[d("label",E,[v(d("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>ke.remember=e),type:"checkbox",class:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-pink-500 focus:ring-pink-500 focus:ring-offset-0"},null,512),[[w,ke.remember]]),t[18]||(t[18]=d("span",{class:"text-sm text-gray-300"},"记住我",-1))]),t[19]||(t[19]=d("a",{href:"#",class:"text-sm text-purple-400 hover:text-purple-300 transition-colors"}," 忘记密码？ ",-1))]),ge.value?(V(),i("div",F,[d("p",G,f(ge.value),1)])):b("",!0),d("button",{type:"submit",disabled:we.value,class:"relative w-full py-3 px-4 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-medium rounded-xl transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none overflow-hidden group cursor-pointer"},[we.value?(V(),i("span",Q,[...t[20]||(t[20]=[d("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),g(" 登录中... ",-1)])])):(V(),i("span",O,"登录")),t[21]||(t[21]=d("div",{class:"absolute inset-0 -top-2 h-[200%] w-[200%] rotate-45 translate-x-[-70%] bg-white/20 transition-all duration-1000 ease-out group-hover:translate-x-[50%]"},null,-1))],8,J)],32)):(V(),i("form",{key:1,onSubmit:m(je,["prevent"]),class:"space-y-3"},[d("div",R,[d("div",T,[t[22]||(t[22]=d("label",{class:"block text-xs font-medium text-purple-300 mb-1.5 ml-1"}," 用户名 ",-1)),d("div",W,[v(d("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>Ce.name=e),type:"text",autocomplete:"username",required:"",class:"w-full px-3 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:bg-white/10 transition-all duration-300 text-sm",placeholder:"昵称"},null,512),[[x,Ce.name]])])]),d("div",X,[t[23]||(t[23]=d("label",{class:"block text-xs font-medium text-purple-300 mb-1.5 ml-1"}," 电子邮箱 ",-1)),d("div",Y,[v(d("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>Ce.email=e),type:"email",autocomplete:"email",required:"",class:"w-full px-3 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:bg-white/10 transition-all duration-300 text-sm",placeholder:"email@example.com"},null,512),[[x,Ce.email]])])])]),d("div",Z,[d("div",$,[t[24]||(t[24]=d("label",{class:"block text-xs font-medium text-purple-300 mb-1.5 ml-1"}," 密码 ",-1)),d("div",ee,[v(d("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>Ce.password=e),type:he.value?"text":"password",autocomplete:"new-password",required:"",minlength:"8",class:"w-full px-3 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:bg-white/10 transition-all duration-300 text-sm",placeholder:"至少8个字符"},null,8,te),[[h,Ce.password]])])]),d("div",le,[t[25]||(t[25]=d("label",{class:"block text-xs font-medium text-purple-300 mb-1.5 ml-1"}," 确认密码 ",-1)),d("div",ae,[v(d("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>Ce.password_confirmation=e),type:he.value?"text":"password",autocomplete:"new-password",required:"",minlength:"8",class:"w-full px-3 py-2.5 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-400 focus:bg-white/10 transition-all duration-300 text-sm",placeholder:"再次输入"},null,8,se),[[h,Ce.password_confirmation]])])])]),v(d("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>Ce.website=e),name:"website",style:{position:"absolute",left:"-9999px"},tabindex:"-1",autocomplete:"off"},null,512),[[x,Ce.website]]),d("label",re,[v(d("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>Ce.terms=e),type:"checkbox",required:"",class:"w-3.5 h-3.5 rounded border-gray-600 bg-gray-700 text-purple-500 focus:ring-purple-500 focus:ring-offset-0"},null,512),[[w,Ce.terms]]),t[26]||(t[26]=d("span",{class:"text-xs text-gray-300"},[g(" 我同意 "),d("a",{href:"/terms",class:"text-purple-400 hover:text-purple-300"},"服务条款"),g(" 和 "),d("a",{href:"/privacy",class:"text-purple-400 hover:text-purple-300"},"隐私政策")],-1))]),ye.value?(V(),i("div",oe,[d("p",ie,f(ye.value),1)])):b("",!0),d("button",{type:"submit",disabled:fe.value||!Ce.terms,class:"relative w-full py-3 px-4 bg-gradient-to-r from-purple-500 to-blue-600 hover:from-purple-600 hover:to-blue-700 text-white font-medium rounded-xl transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none overflow-hidden group cursor-pointer"},[fe.value?(V(),i("span",ue,[...t[27]||(t[27]=[d("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),g(" 注册中... ",-1)])])):(V(),i("span",de,"注册")),t[28]||(t[28]=d("div",{class:"absolute inset-0 -top-2 h-[200%] w-[200%] rotate-45 translate-x-[-70%] bg-white/20 transition-all duration-1000 ease-out group-hover:translate-x-[50%]"},null,-1))],8,ne)],32))])]),d("div",ce,[u(l,{to:"/",class:"inline-flex items-center gap-2 text-sm text-gray-400 hover:text-white transition-colors"},{default:y(()=>[...t[30]||(t[30]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),g(" 返回首页 ",-1)])]),_:1})])])])])}}},[["__scopeId","data-v-831b5be6"]]);export{pe as default};
