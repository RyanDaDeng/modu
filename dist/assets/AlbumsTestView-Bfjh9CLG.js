import{k as E,r as c,c as b,d as o,e as x,E as S,H as L,O as U,t as f,P as g,Q as p,i as y}from"./index-R3dXyy7_.js";const K={class:"bg-gray-900 min-h-screen"},q={class:"container mx-auto px-4 py-6"},I={class:"mb-6 bg-gray-800 rounded-lg p-4"},j={class:"flex flex-col sm:flex-row gap-2"},W={class:"mb-4 space-y-2"},z={key:0,class:"text-white"},A={key:1,class:"bg-red-900/20 border border-red-800 rounded p-4 mb-4"},N={class:"text-red-400"},O={key:2,class:"bg-gray-800 rounded p-4 mb-4"},V={class:"text-green-400 text-xs overflow-auto"},B={key:3,class:"bg-gray-800 rounded p-4"},H={class:"text-blue-400 text-xs overflow-auto"},M={__name:"AlbumsTestView",setup(J){const s=E(),d=c(!1),a=c(""),l=c(null),i=c(null),m=c(""),u=async(r,e=null)=>{d.value=!0,a.value="",l.value=null,i.value=null;try{let t=`https://${s.serverInfo.Server[0]}/${r}`;e!==null&&(t+=`?page=${e}`),console.log("Testing URL:",t);const n=await g.get(t,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=n.data,n.data&&n.data.data)try{const v=p(s.currentKey,n.data.data);i.value=v}catch(v){console.error("Decryption error:",v),a.value="Decryption failed: "+v.message}}catch(t){console.error("Request error:",t),a.value=t.message,t.response&&(l.value=t.response.data)}finally{d.value=!1}},k=async(r,e="slug")=>{d.value=!0,a.value="",l.value=null,i.value=null;try{const t=`https://${s.serverInfo.Server[0]}/albums?${e}=${r}&page=1`;console.log("Testing URL:",t);const n=await g.get(t,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=n.data,n.data&&n.data.data)try{const v=p(s.currentKey,n.data.data);i.value=v}catch(v){console.error("Decryption error:",v),a.value="Decryption failed: "+v.message}}catch(t){console.error("Request error:",t),a.value=t.message,t.response&&(l.value=t.response.data)}finally{d.value=!1}},T=async r=>{d.value=!0,a.value="",l.value=null,i.value=null;try{const e=`https://${s.serverInfo.Server[0]}/category/${r}`;console.log("Testing URL:",e);const t=await g.get(e,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=t.data,t.data&&t.data.data)try{const n=p(s.currentKey,t.data.data);i.value=n}catch(n){console.error("Decryption error:",n),a.value="Decryption failed: "+n.message}}catch(e){console.error("Request error:",e),a.value=e.message,e.response&&(l.value=e.response.data)}finally{d.value=!1}},$=async r=>{d.value=!0,a.value="",l.value=null,i.value=null;try{const e=`https://${s.serverInfo.Server[0]}/categories?week=${r}`;console.log("Testing URL:",e);const t=await g.get(e,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=t.data,t.data&&t.data.data)try{const n=p(s.currentKey,t.data.data);i.value=n}catch(n){console.error("Decryption error:",n),a.value="Decryption failed: "+n.message}}catch(e){console.error("Request error:",e),a.value=e.message,e.response&&(l.value=e.response.data)}finally{d.value=!1}},C=async()=>{d.value=!0,a.value="",l.value=null,i.value=null;try{const r=`https://${s.serverInfo.Server[0]}/categories?o=mv&t=t&page=1`;console.log("Testing URL:",r);const e=await g.get(r,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=e.data,e.data&&e.data.data)try{const t=p(s.currentKey,e.data.data);i.value=t}catch(t){console.error("Decryption error:",t),a.value="Decryption failed: "+t.message}}catch(r){console.error("Request error:",r),a.value=r.message,r.response&&(l.value=r.response.data)}finally{d.value=!1}},D=async()=>{d.value=!0,a.value="",l.value=null,i.value=null;try{const r=`https://${s.serverInfo.Server[0]}/albums?o=mv&t=t&page=1`;console.log("Testing URL:",r);const e=await g.get(r,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=e.data,e.data&&e.data.data)try{const t=p(s.currentKey,e.data.data);i.value=t}catch(t){console.error("Decryption error:",t),a.value="Decryption failed: "+t.message}}catch(r){console.error("Request error:",r),a.value=r.message,r.response&&(l.value=r.response.data)}finally{d.value=!1}},P=async r=>{d.value=!0,a.value="",l.value=null,i.value=null;try{const e=`https://${s.serverInfo.Server[0]}/latest?category=${r}&page=1`;console.log("Testing URL:",e);const t=await g.get(e,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=t.data,t.data&&t.data.data)try{const n=p(s.currentKey,t.data.data);i.value=n}catch(n){console.error("Decryption error:",n),a.value="Decryption failed: "+n.message}}catch(e){console.error("Request error:",e),a.value=e.message,e.response&&(l.value=e.response.data)}finally{d.value=!1}},R=async r=>{d.value=!0,a.value="",l.value=null,i.value=null;try{const e=`https://${s.serverInfo.Server[0]}/categories?slug=${r}&page=1`;console.log("Testing URL:",e);const t=await g.get(e,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=t.data,t.data&&t.data.data)try{const n=p(s.currentKey,t.data.data);i.value=n}catch(n){console.error("Decryption error:",n),a.value="Decryption failed: "+n.message}}catch(e){console.error("Request error:",e),a.value=e.message,e.response&&(l.value=e.response.data)}finally{d.value=!1}},w=async r=>{d.value=!0,a.value="",l.value=null,i.value=null;try{const e=`https://${s.serverInfo.Server[0]}/categories/filter?slug=${r}&page=1`;console.log("Testing URL:",e);const t=await g.get(e,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam}});if(l.value=t.data,t.data&&t.data.data)try{const n=p(s.currentKey,t.data.data);i.value=n}catch(n){console.error("Decryption error:",n),a.value="Decryption failed: "+n.message}}catch(e){console.error("Request error:",e),a.value=e.message,e.response&&(l.value=e.response.data)}finally{d.value=!1}},h=async()=>{if(!m.value.trim()){a.value="Please enter a URL or endpoint";return}d.value=!0,a.value="",l.value=null,i.value=null;try{let r=m.value.trim();!r.startsWith("http://")&&!r.startsWith("https://")&&(r.startsWith("/")&&(r=r.substring(1)),r=`https://${s.serverInfo.Server[0]}/${r}`),console.log("Testing Custom URL:",r);const e=await g.get(r,{headers:{token:s.accessToken.token,tokenParam:s.accessToken.tokenParam},timeout:3e4});if(l.value=e.data,e.data&&e.data.data)try{const t=p(s.currentKey,e.data.data);i.value=t,console.log("Decrypted data:",t)}catch(t){console.error("Decryption error:",t),console.log("Could not decrypt, showing raw response")}}catch(r){console.error("Request error:",r),a.value=r.message,r.response&&(l.value=r.response.data)}finally{d.value=!1}};return(r,e)=>(y(),b("div",K,[o("div",q,[e[53]||(e[53]=o("h1",{class:"text-2xl font-bold text-white mb-4"},"API Endpoints Test",-1)),o("div",I,[e[42]||(e[42]=o("h2",{class:"text-lg font-bold text-white mb-3"},"Custom URL Test",-1)),o("div",j,[S(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),type:"text",placeholder:"Enter custom endpoint (e.g., /albums?page=1 or full URL)",class:"flex-1 px-3 py-2 bg-gray-700 text-white rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500",onKeyup:U(h,["enter"])},null,544),[[L,m.value]]),o("button",{onClick:h,class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"}," Test Custom URL ")]),e[43]||(e[43]=o("div",{class:"mt-2 text-xs text-gray-400"},[o("p",null,"Examples:"),o("ul",{class:"ml-4 space-y-1"},[o("li",null,"• /albums?page=1"),o("li",null,"• /categories?slug=doujin&page=2"),o("li",null,"• /search?query=test"),o("li",null,"• https://www.cdnmhwscc.vip/albums?o=mv")])],-1))]),o("div",W,[o("div",null,[e[44]||(e[44]=o("h2",{class:"text-white mb-2"},"Albums Endpoint:",-1)),o("button",{onClick:e[1]||(e[1]=t=>u("albums")),class:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-700"}," Test /albums (no params) "),o("button",{onClick:e[2]||(e[2]=t=>u("albums",1)),class:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-700 ml-2"}," Test /albums?page=1 "),o("button",{onClick:e[3]||(e[3]=t=>u("albums",2)),class:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-700 ml-2"}," Test /albums?page=2 "),o("button",{onClick:e[4]||(e[4]=t=>D()),class:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-700 ml-2"}," Test /albums?o=mv&t=t ")]),o("div",null,[e[45]||(e[45]=o("h2",{class:"text-white mb-2"},"Hot Endpoint:",-1)),o("button",{onClick:e[5]||(e[5]=t=>u("hot")),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," Test /hot (no params) "),o("button",{onClick:e[6]||(e[6]=t=>u("hot",1)),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 ml-2"}," Test /hot?page=1 "),o("button",{onClick:e[7]||(e[7]=t=>u("hot",2)),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 ml-2"}," Test /hot?page=2 ")]),o("div",null,[e[46]||(e[46]=o("h2",{class:"text-white mb-2"},"Latest Endpoint (Known Working):",-1)),o("button",{onClick:e[8]||(e[8]=t=>u("latest")),class:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700"}," Test /latest (no params) "),o("button",{onClick:e[9]||(e[9]=t=>u("latest",1)),class:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 ml-2"}," Test /latest?page=1 "),o("button",{onClick:e[10]||(e[10]=t=>u("latest",2)),class:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 ml-2"}," Test /latest?page=2 "),o("button",{onClick:e[11]||(e[11]=t=>P(1)),class:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 ml-2"}," Test /latest?category=1 ")]),o("div",null,[e[47]||(e[47]=o("h2",{class:"text-white mb-2"},"Category Endpoints:",-1)),o("button",{onClick:e[12]||(e[12]=t=>u("category")),class:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700"}," Test /category "),o("button",{onClick:e[13]||(e[13]=t=>u("category",1)),class:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 ml-2"}," Test /category?page=1 "),o("button",{onClick:e[14]||(e[14]=t=>u("categories")),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 ml-2"}," Test /categories "),o("button",{onClick:e[15]||(e[15]=t=>u("categories",1)),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 ml-2"}," Test /categories?page=1 "),o("button",{onClick:e[16]||(e[16]=t=>$(202)),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 ml-2"}," Test /categories?week=202 "),o("button",{onClick:e[17]||(e[17]=t=>u("categories/filter")),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 ml-2"}," Test /categories/filter "),o("button",{onClick:e[18]||(e[18]=t=>w("doujin")),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 ml-2"}," Test /categories/filter?slug=doujin "),o("button",{onClick:e[19]||(e[19]=t=>w("single")),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 ml-2"}," Test /categories/filter?slug=single "),o("button",{onClick:e[20]||(e[20]=t=>C()),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 ml-2"}," Test /categories?o=mv&t=t "),o("button",{onClick:e[21]||(e[21]=t=>R("doujin")),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 ml-2"}," Test /categories?slug=doujin ")]),o("div",null,[e[48]||(e[48]=o("h2",{class:"text-white mb-2"},"Category Detail Endpoints (based on categories data):",-1)),o("button",{onClick:e[22]||(e[22]=t=>k("doujin")),class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 mr-2"}," Test /albums?slug=doujin "),o("button",{onClick:e[23]||(e[23]=t=>k("1","id")),class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 mr-2"}," Test /albums?id=1 "),o("button",{onClick:e[24]||(e[24]=t=>k("1","category")),class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 mr-2"}," Test /albums?category=1 "),o("button",{onClick:e[25]||(e[25]=t=>k("1","cid")),class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 mr-2"}," Test /albums?cid=1 "),o("button",{onClick:e[26]||(e[26]=t=>T("doujin")),class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"}," Test /category/doujin ")]),o("div",null,[e[49]||(e[49]=o("h2",{class:"text-white mb-2"},"Serialization & Promote List:",-1)),o("button",{onClick:e[27]||(e[27]=t=>u("serialization")),class:"px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 mr-2"}," Test /serialization "),o("button",{onClick:e[28]||(e[28]=t=>u("serialization",1)),class:"px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 mr-2"}," Test /serialization?page=1 "),o("button",{onClick:e[29]||(e[29]=t=>u("promote_list")),class:"px-4 py-2 bg-cyan-600 text-white rounded hover:bg-cyan-700 mr-2"}," Test /promote_list "),o("button",{onClick:e[30]||(e[30]=t=>u("promote_list",1)),class:"px-4 py-2 bg-cyan-600 text-white rounded hover:bg-cyan-700 mr-2"}," Test /promote_list?page=1 "),o("button",{onClick:e[31]||(e[31]=t=>u("hot_tags")),class:"px-4 py-2 bg-rose-600 text-white rounded hover:bg-rose-700"}," Test /hot_tags ")]),o("div",null,[e[50]||(e[50]=o("h2",{class:"text-white mb-2"},"Other Possible Endpoints:",-1)),o("button",{onClick:e[32]||(e[32]=t=>u("all")),class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 mr-2"}," Test /all "),o("button",{onClick:e[33]||(e[33]=t=>u("all",1)),class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 mr-2"}," Test /all?page=1 "),o("button",{onClick:e[34]||(e[34]=t=>u("week")),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2"}," Test /week "),o("button",{onClick:e[35]||(e[35]=t=>u("month")),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2"}," Test /month "),o("button",{onClick:e[36]||(e[36]=t=>u("total")),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2"}," Test /total "),o("button",{onClick:e[37]||(e[37]=t=>u("rank")),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2"}," Test /rank "),o("button",{onClick:e[38]||(e[38]=t=>u("rank",1)),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2"}," Test /rank?page=1 "),o("button",{onClick:e[39]||(e[39]=t=>u("rank_list")),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2"}," Test /rank_list "),o("button",{onClick:e[40]||(e[40]=t=>u("rank_list",1)),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2"}," Test /rank_list?page=1 "),o("button",{onClick:e[41]||(e[41]=t=>u("popular")),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"}," Test /popular ")])]),d.value?(y(),b("div",z,"Loading...")):x("",!0),a.value?(y(),b("div",A,[o("p",N,"Error: "+f(a.value),1)])):x("",!0),l.value?(y(),b("div",O,[e[51]||(e[51]=o("h2",{class:"text-lg font-bold text-white mb-2"},"Raw Response:",-1)),o("pre",V,f(JSON.stringify(l.value,null,2)),1)])):x("",!0),i.value?(y(),b("div",B,[e[52]||(e[52]=o("h2",{class:"text-lg font-bold text-white mb-2"},"Decrypted Data:",-1)),o("pre",H,f(JSON.stringify(i.value,null,2)),1)])):x("",!0)])]))}};export{M as default};
