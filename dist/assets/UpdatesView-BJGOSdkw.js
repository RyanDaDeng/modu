import{_ as V,t as D,r as d,o as T,c as x,w as B,A as L,Z as N,a as l,b as a,d as r,e as _,F as g,h as v,E as y,G as m,I as F,f as S,L as U}from"./index-CstFYGIV.js";import{_ as W}from"./ComicCard-BTkR76I8.js";const $={class:"container mx-auto px-4 py-6"},j={class:"relative mb-4"},z={class:"relative bg-gray-900/60 backdrop-blur-xl border border-white/10 rounded-lg p-2 sm:p-4"},A={class:"flex gap-2 mb-3"},E=["onClick"],I={class:"flex overflow-x-auto gap-1 sm:gap-2 pb-1 -mx-2 px-2 sm:mx-0 sm:px-0 no-scrollbar"},G=["onClick"],M={key:0,class:"ml-1 text-[10px] sm:text-xs"},O={key:0,class:"flex justify-center py-12"},Z={key:1},q={class:"text-lg sm:text-xl font-semibold text-white mb-3"},H={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-6 2xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4"},J={key:2,class:"text-center py-12"},K={name:"UpdatesView"},P=Object.assign(K,{setup(Q){const h=[{label:"全部",value:"all"},{label:"日漫",value:"manga"},{label:"韩漫",value:"hanman"}],b=[{label:"周一",value:1},{label:"周二",value:2},{label:"周三",value:3},{label:"周四",value:4},{label:"周五",value:5},{label:"周六",value:6},{label:"周日",value:7},{label:"已完结",value:0}],u=D(()=>{const e=new Date().getDay();return e===0?7:e}),c=d("all"),n=d(u.value),i=d([]),o=d(!1),f=e=>{let s=null;return e.image&&e.image.startsWith("/media/")?s=null:e.image&&e.image.startsWith("http")&&(s=e.image),{id:e.id,name:e.name,title:e.name,author:e.author,image:s,category:e.category?.title||"",description:e.description,watched:e.liked?1:0,liked:e.liked?1:0,tags:[]}},p=async()=>{if(!o.value){o.value=!0,i.value=[];try{const e=await N(c.value,n.value,1);e?.list&&(i.value=e.list)}catch(e){console.error("Failed to load comics:",e)}finally{o.value=!1}}},k=e=>{c.value=e,p()},w=e=>{n.value=e,p()};return T(()=>{p()}),(e,s)=>(l(),x(L,{title:"更新"},{default:B(()=>[a("div",$,[a("div",j,[s[0]||(s[0]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500/10 via-purple-500/10 to-blue-500/10 rounded-lg blur-xl"},null,-1)),a("div",z,[a("div",A,[(l(),r(g,null,v(h,t=>a("button",{key:t.value,onClick:C=>k(t.value),class:y(["px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors cursor-pointer",c.value===t.value?"bg-pink-500/20 text-pink-400 border border-pink-500/50":"bg-gray-800/50 text-gray-300 hover:bg-gray-700/50 hover:text-white border border-gray-700"])},m(t.label),11,E)),64))]),a("div",I,[(l(),r(g,null,v(b,t=>a("button",{key:t.value,onClick:C=>w(t.value),class:y(["flex-shrink-0 px-2 sm:px-4 py-1 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap cursor-pointer",n.value===t.value?"bg-pink-500/20 text-pink-400 border border-pink-500/50":t.value===u.value?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"bg-gray-800/50 text-gray-300 hover:bg-gray-700/50 hover:text-white border border-gray-700"])},[F(m(t.label)+" ",1),t.value===u.value?(l(),r("span",M," (今日) ")):_("",!0)],10,G)),64))])])]),o.value?(l(),r("div",O,[S(U)])):i.value.length>0?(l(),r("div",Z,[a("h2",q,m(b.find(t=>t.value===n.value)?.label)+"更新 ",1),a("div",H,[(l(!0),r(g,null,v(i.value,t=>(l(),x(W,{key:t.id,comic:f(t)},null,8,["comic"]))),128))])])):o.value?_("",!0):(l(),r("div",J,[...s[1]||(s[1]=[a("p",{class:"text-gray-400"},"暂无更新",-1)])]))])]),_:1}))}}),Y=V(P,[["__scopeId","data-v-6d9a4d3b"]]);export{Y as default};
