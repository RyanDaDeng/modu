import{u as v,K as k,c as w,a,w as p,b as e,d as c,e as n,v as r,t as u,s as g,O as h,F as C,h as M,H as $}from"./index-C-olJjxF.js";const D={class:"relative bg-gray-900/60 backdrop-blur-sm border border-white/10 rounded-lg overflow-hidden group-hover:border-pink-500/30 transition-all"},S={class:"relative aspect-[3/4] bg-gray-800/50"},j=["src","alt"],B={key:0,class:"absolute top-1 left-1 sm:top-2 sm:left-2"},z={class:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-[10px] sm:text-xs bg-pink-600/70 backdrop-blur-sm border border-pink-400/60 text-white font-medium rounded-full"},I={key:1,class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1 sm:p-2"},N={class:"flex items-center justify-between text-white text-[10px] sm:text-xs"},A={class:"flex items-center gap-0.5 sm:gap-1"},E={key:0,class:"flex items-center gap-0.5 sm:gap-1"},F={class:"p-1.5 sm:p-2"},L={class:"text-xs sm:text-sm font-semibold text-white truncate"},V={key:0,class:"text-[10px] sm:text-xs text-gray-400 mt-0.5 truncate"},O={key:1,class:"text-[10px] sm:text-xs text-gray-400 mt-0.5 truncate"},q={key:2,class:"hidden sm:flex flex-wrap gap-1 mt-1"},K={__name:"ComicCard",props:{comic:{type:Object,required:!0},showCollectionDate:{type:Boolean,default:!1}},setup(t){v();const m=t,f=()=>m.comic.image?m.comic.image:`${$()}/media/albums/${m.comic.id}_3x4.jpg`,x=i=>{i.target.src="/default.jpeg"},y=i=>{const o=new Date(i),l=new Date-o,s=Math.floor(l/(1e3*60*60*24));return s===0?"今天":s===1?"昨天":s<7?`${s}天前`:s<30?`${Math.floor(s/7)}周前`:s<365?`${Math.floor(s/30)}个月前`:`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`};return(i,o)=>{const d=k("router-link");return a(),w(d,{to:`/chapter/${t.comic.id}`,class:"block relative group"},{default:p(()=>[o[2]||(o[2]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-lg opacity-0 group-hover:opacity-50 blur-sm transition-opacity"},null,-1)),e("div",D,[e("div",S,[e("img",{src:f(),alt:t.comic.name,class:"w-full h-full object-cover group-hover:opacity-90 transition-opacity",loading:"lazy",onError:x},null,40,j),t.comic.category?(a(),c("div",B,[e("span",z,r(typeof t.comic.category=="object"?t.comic.category.title||t.comic.category.name||"":t.comic.category),1)])):n("",!0),t.comic.watched?(a(),c("div",I,[e("div",N,[e("span",A,[o[0]||(o[0]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)),u(" "+r(g(h)(t.comic.watched)),1)]),t.comic.liked?(a(),c("span",E,[o[1]||(o[1]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),u(" "+r(g(h)(t.comic.liked)),1)])):n("",!0)])])):n("",!0)]),e("div",F,[e("h3",L,r(t.comic.name||t.comic.title||"Unknown"),1),t.showCollectionDate&&t.comic.created_at?(a(),c("p",V," 收藏于 "+r(y(t.comic.created_at)),1)):t.comic.author||t.comic.authors?(a(),c("p",O,r(t.comic.author||(Array.isArray(t.comic.authors)?t.comic.authors.join(", "):t.comic.authors)||""),1)):n("",!0),t.comic.tags&&t.comic.tags.length?(a(),c("div",q,[(a(!0),c(C,null,M(t.comic.tags.slice(0,2),l=>(a(),c("span",{key:l,class:"px-1.5 py-0.5 text-xs bg-gray-700 text-gray-300 rounded"},r(l),1))),128))])):n("",!0)])])]),_:1},8,["to"])}}};export{K as _};
