import{r as e,o as a,c as l,w as s,A as t,g as u,a as i,b as c,d as v,e as n,f as o,L as r,F as p,h as d}from"./index-B0oRfr6y.js";import{_ as y}from"./ComicCard-DxMDsq_Y.js";const g={class:"container mx-auto px-4 py-6"},m={key:0,class:"text-center py-12"},f={key:1,class:"flex justify-center py-8 sm:py-12"},x={key:2,class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-6 gap-3"},h={key:3,class:"flex justify-center py-6 sm:py-8"},k={key:4,class:"flex justify-center py-6 sm:py-8"},j={name:"LatestView"},b=Object.assign(j,{setup(j){const b=e([]),w=e(!1),C=e(!1),L=e(1),$=e(!0),_=async(e=!1)=>{if(!(e&&w.value||!e&&C.value||!$.value&&!e)){e?(w.value=!0,L.value=1,b.value=[],$.value=!0):C.value=!0;try{const e=await u(L.value);if(e&&0!==e.length){const a=e.map(e=>({...e,page:L.value}));b.value.push(...a),L.value++,$.value=e.length>=80}else $.value=!1}catch(a){$.value=!1}finally{e?w.value=!1:C.value=!1}}};return a(()=>{_(!0)}),(e,a)=>(i(),l(t,{title:"最新更新"},{default:s(()=>[c("div",g,[b.value.length||w.value?n("",!0):(i(),v("div",m,[...a[1]||(a[1]=[c("p",{class:"text-gray-400"},"暂无内容",-1)])])),w.value?(i(),v("div",f,[o(r)])):n("",!0),w.value?n("",!0):(i(),v("div",x,[(i(!0),v(p,null,d(b.value,e=>(i(),l(y,{key:`${e.id}-${e.page}`,comic:e},null,8,["comic"]))),128))])),$.value&&!w.value&&!C.value&&b.value.length?(i(),v("div",h,[c("button",{onClick:a[0]||(a[0]=e=>_()),class:"px-6 py-3 bg-pink-600 hover:bg-pink-700 text-white rounded-lg font-medium transition-colors cursor-pointer"}," 加载更多 ")])):n("",!0),C.value?(i(),v("div",k,[o(r)])):n("",!0)])]),_:1}))}});export{b as default};
