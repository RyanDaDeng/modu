import{B as e,l as t,i as a,u as l,r,j as s,M as o,d as i,a as n,b as c,f as d,w as p,ah as u,v,c as g,e as x,t as m,ai as f,aj as h,s as b,O as y,x as k,a4 as w,Q as _,F as B,h as z,L as M,R as j,N as A}from"./index-bTbxLbx9.js";const C={class:"relative"},H={class:"relative h-40 sm:h-48 lg:h-56"},V={class:"relative z-50 pt-safe"},I={class:"container mx-auto px-4"},L={class:"flex items-center justify-between h-16 sm:h-20"},S={class:"flex items-center gap-6"},T={class:"hidden md:flex items-center gap-4"},D={class:"flex items-center gap-2 sm:gap-4"},P={class:"hidden md:flex items-center gap-2"},N={class:"flex md:hidden items-center gap-1"},O={class:"absolute bottom-0 left-0 right-0"},$={class:"container mx-auto px-4"},G={class:"flex items-center gap-4 sm:gap-6 h-12"},U=e({__name:"GeneralHeader",setup(e){t();const b=a(),y=l();r(!1);const k=r(!1),w=s(()=>{if(!b.user?.expired_at)return!1;return new Date(b.user.expired_at)>new Date});return s(()=>{if(!b.user?.expired_at)return"";const e=new Date(b.user.expired_at),t=new Date,a=Math.ceil((e-t)/864e5);return a>0?`${a}天`:"已过期"}),s(()=>b.user?.name?b.user.name.charAt(0).toUpperCase():"U"),(e,t)=>{const a=o("router-link");return n(),i("header",C,[c("div",H,[t[11]||(t[11]=c("div",{class:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/img_1.png)"}},[c("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/40"}),c("div",{class:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black/5 to-transparent"})],-1)),c("nav",V,[c("div",I,[c("div",L,[c("div",S,[d(a,{to:"/",class:"flex items-center"},{default:p(()=>[...t[2]||(t[2]=[c("div",{class:"flex items-center space-x-2"},[c("div",{class:"logo-container"},[c("img",{src:u,alt:"魔都",class:"w-10 h-10 object-contain logo-enhanced"})]),c("div",{class:"flex items-baseline"},[c("span",{class:"text-pink-500 font-extrabold tracking-wider text-lg",style:{"font-family":"'Pacifico', 'Dancing Script', 'Satisfy', 'Kaushan Script', 'Permanent Marker', fantasy","text-shadow":"2px 2px 0 rgba(31, 41, 55, 0.8), 3px 3px 0 rgba(219, 39, 119, 0.5)","letter-spacing":"0.05em"}}," 魔都 "),c("span",{class:"text-pink-400 mx-0.5 text-xs"},"♥")])],-1)])]),_:1}),c("div",T,[d(a,{to:"/comic",class:"text-gray-300 hover:text-pink-400 text-sm font-medium transition-colors"},{default:p(()=>[...t[3]||(t[3]=[v(" 漫画 ",-1)])]),_:1}),d(a,{to:"/video",class:"text-gray-300 hover:text-purple-400 text-sm font-medium transition-colors"},{default:p(()=>[...t[4]||(t[4]=[v(" 视频 ",-1)])]),_:1})])]),c("div",D,[m(y).shouldShowAppDownload?(n(),g(a,{key:0,to:"/app-download",class:"flex items-center gap-1 px-2.5 py-1 bg-gray-700/40 backdrop-blur-sm border border-gray-500/40 hover:bg-gray-600/50 hover:border-pink-500/30 text-gray-300 hover:text-pink-300 rounded-lg transition-all cursor-pointer",title:"安装 APP"},{default:p(()=>[...t[5]||(t[5]=[c("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),c("span",{class:"text-xs font-medium"},"APP",-1)])]),_:1})):x("",!0),c("div",P,[m(b).isLoggedIn&&w.value?x("",!0):(n(),g(a,{key:0,to:"/vip",class:"relative group"},{default:p(()=>[...t[6]||(t[6]=[c("div",{class:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-yellow-400 rounded-full blur-sm opacity-70 group-hover:opacity-100 animate-pulse"},null,-1),c("div",{class:"relative px-3 py-1.5 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm border border-yellow-400/50 text-yellow-300 text-sm font-medium rounded-full transition-all group-hover:scale-105 group-hover:border-yellow-300 group-hover:text-yellow-200 cursor-pointer"},[c("div",{class:"flex items-center gap-1"},[c("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),v(" 充值 ")])],-1)])]),_:1}))]),c("div",N,[m(b).isLoggedIn&&w.value?x("",!0):(n(),g(a,{key:0,to:"/vip",class:"relative group"},{default:p(()=>[...t[7]||(t[7]=[c("div",{class:"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full blur-sm opacity-60 group-hover:opacity-90"},null,-1),c("div",{class:"relative px-2 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm border border-yellow-400/40 text-yellow-300 text-xs font-medium rounded-full transition-all cursor-pointer"}," 充值 ",-1)])]),_:1}))]),d(f)])])])]),c("div",O,[c("div",$,[c("div",G,[d(a,{to:"/comic",class:"flex-shrink-0 px-3 py-1 whitespace-nowrap",title:"魔都漫画"},{default:p(()=>[...t[8]||(t[8]=[c("span",{class:"text-sm font-bold bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text text-transparent"}," 魔都漫画 ",-1)])]),_:1}),d(a,{to:"/video",class:"flex-shrink-0 px-3 py-1 whitespace-nowrap",title:"魔都视频"},{default:p(()=>[...t[9]||(t[9]=[c("span",{class:"text-sm font-bold bg-gradient-to-r from-purple-400 via-blue-400 to-pink-400 bg-clip-text text-transparent"}," 魔都视频 ",-1)])]),_:1}),c("button",{onClick:t[0]||(t[0]=e=>k.value=!0),class:"flex-shrink-0 px-3 py-1 text-white/80 hover:text-white text-sm font-medium hover:bg-white/10 rounded-lg transition-all whitespace-nowrap cursor-pointer",title:"永久链接"}," 永久链接 "),t[10]||(t[10]=c("a",{href:"https://t.me/+frktRDVHynY3OTA1",target:"_blank",rel:"noopener noreferrer",class:"flex-shrink-0 px-3 py-1 text-pink-300 hover:text-pink-200 text-sm font-bold hover:bg-white/10 rounded-lg transition-all whitespace-nowrap",title:"加入社群"}," 加入社群 ",-1))])])])]),d(h,{modelValue:k.value,"onUpdate:modelValue":t[1]||(t[1]=e=>k.value=e)},null,8,["modelValue"])])}}},[["__scopeId","data-v-5bb30d94"]]),R={class:"lg:hidden fixed bottom-0 left-0 right-0 z-40"},F={class:"relative grid grid-cols-5 h-20 pb-safe"},K={key:0,class:"absolute inset-0 bg-gradient-to-t from-pink-500/20 to-transparent"},Q={class:"relative"},W={key:0,class:"absolute inset-0 bg-gradient-to-t from-purple-500/20 to-transparent"},Y={class:"relative"},q={key:0,class:"absolute inset-0 bg-gradient-to-t from-cyan-500/20 to-transparent"},E={class:"relative"},J={key:0,class:"absolute inset-0 bg-gradient-to-t from-green-500/20 to-transparent"},X={class:"relative"},Z={key:0,class:"absolute inset-0 bg-gradient-to-t from-yellow-500/20 to-transparent"},ee={class:"relative"},te=e({__name:"GeneralMobileBottomNav",setup(e){const l=b(),r=t(),s=a(),u=e=>"/"===e?"/"===l.path:l.path.startsWith(e),v=()=>{s.isLoggedIn?r.push("/profile"):r.push("/login")};return(e,t)=>{const a=o("router-link");return n(),i("div",R,[t[5]||(t[5]=c("div",{class:"absolute inset-0 bg-gray-900/80 backdrop-blur-xl border-t border-white/10"},null,-1)),t[6]||(t[6]=c("div",{class:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500"},null,-1)),c("div",F,[d(a,{to:"/",class:y(["group flex flex-col items-center justify-center py-3 transition-all duration-300 relative",{"text-pink-400":u("/"),"text-gray-400":!u("/")}])},{default:p(()=>[u("/")?(n(),i("div",K)):x("",!0),c("div",Q,[(n(),i("svg",{class:y(["w-7 h-7 transition-transform group-active:scale-95",{"filter drop-shadow-[0_0_8px_rgba(236,72,153,0.5)]":u("/")}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[0]||(t[0]=[c("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"},null,-1)])],2))]),c("span",{class:y(["text-xs mt-1.5 font-medium",{"text-pink-400":u("/"),"text-gray-500":!u("/")}])}," 导航 ",2)]),_:1},8,["class"]),d(a,{to:"/video",class:y(["group flex flex-col items-center justify-center py-3 transition-all duration-300 relative",{"text-purple-400":u("/video"),"text-gray-400":!u("/video")}])},{default:p(()=>[u("/video")?(n(),i("div",W)):x("",!0),c("div",Y,[(n(),i("svg",{class:y(["w-7 h-7 transition-transform group-active:scale-95",{"filter drop-shadow-[0_0_8px_rgba(168,85,247,0.5)]":u("/video")}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[1]||(t[1]=[c("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"},null,-1)])],2))]),c("span",{class:y(["text-xs mt-1.5 font-medium",{"text-purple-400":u("/video"),"text-gray-500":!u("/video")}])}," 视频 ",2)]),_:1},8,["class"]),d(a,{to:"/comic",class:y(["group flex flex-col items-center justify-center py-3 transition-all duration-300 relative",{"text-cyan-400":u("/comic"),"text-gray-400":!u("/comic")}])},{default:p(()=>[u("/comic")?(n(),i("div",q)):x("",!0),c("div",E,[(n(),i("svg",{class:y(["w-7 h-7 transition-transform group-active:scale-95",{"filter drop-shadow-[0_0_8px_rgba(6,182,212,0.5)]":u("/comic")}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[2]||(t[2]=[c("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"},null,-1)])],2))]),c("span",{class:y(["text-xs mt-1.5 font-medium",{"text-cyan-400":u("/comic"),"text-gray-500":!u("/comic")}])}," 漫画 ",2)]),_:1},8,["class"]),d(a,{to:"/vip",class:y(["group flex flex-col items-center justify-center py-3 transition-all duration-300 relative",{"text-green-400":u("/vip"),"text-gray-400":!u("/vip")}])},{default:p(()=>[u("/vip")?(n(),i("div",J)):x("",!0),c("div",X,[(n(),i("svg",{class:y(["w-7 h-7 transition-transform group-active:scale-95",{"filter drop-shadow-[0_0_8px_rgba(34,197,94,0.5)]":u("/vip")}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[3]||(t[3]=[c("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"},null,-1),c("path",{"fill-rule":"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z","clip-rule":"evenodd"},null,-1)])],2))]),c("span",{class:y(["text-xs mt-1.5 font-medium",{"text-green-400":u("/vip"),"text-gray-500":!u("/vip")}])}," 充值 ",2)]),_:1},8,["class"]),c("button",{onClick:v,class:y(["group flex flex-col items-center justify-center py-3 transition-all duration-300 relative cursor-pointer",{"text-yellow-400":u("/profile"),"text-gray-400":!u("/profile")}])},[u("/profile")?(n(),i("div",Z)):x("",!0),c("div",ee,[(n(),i("svg",{class:y(["w-7 h-7 transition-transform group-active:scale-95",{"filter drop-shadow-[0_0_8px_rgba(250,204,21,0.5)]":u("/profile")}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[4]||(t[4]=[c("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"},null,-1)])],2))]),c("span",{class:y(["text-xs mt-1.5 font-medium",{"text-yellow-400":u("/profile"),"text-gray-500":!u("/profile")}])}," 我的 ",2)],2)])])}}},[["__scopeId","data-v-5c9b3a16"]]),ae={key:1,class:"lg:hidden sticky top-0 left-0 right-0 z-20"},le={class:"relative container mx-auto px-4 pt-safe"},re={class:"flex items-center justify-between h-14"},se={class:"text-sm font-medium relative"},oe={key:1,class:"w-16"},ie={class:"flex-1 min-w-0 px-2"},ne={class:"text-gray-100 font-semibold text-base truncate text-center transition-all duration-300 hover:bg-gradient-to-r hover:from-pink-400 hover:to-purple-400 hover:bg-clip-text hover:text-transparent"},ce={class:"flex-shrink-0 w-16 flex justify-end"},de={class:"min-h-screen relative"},pe={key:0,class:"hidden lg:block"},ue={class:"container mx-auto px-4 py-2"},ve={class:"flex items-center space-x-2 text-sm"},ge={key:1,class:"text-gray-300"},xe={key:1,class:"min-h-[60vh] flex items-center justify-center"},me=e({__name:"GeneralLayout",props:{title:{type:String,default:""},showBack:{type:Boolean,default:!0},backText:{type:String,default:"返回"},backTo:{type:String,default:null},showBottomNav:{type:Boolean,default:!0},noHeader:{type:Boolean,default:!1},hideAppHeader:{type:Boolean,default:!1},showTopNav:{type:Boolean,default:!0},hideBreadcrumbs:{type:Boolean,default:!1},customBreadcrumbs:{type:Array,default:null},pageLoading:{type:Boolean,default:!1},backgroundImage:{type:String,default:"/img_6.png"},backgroundOverlay:{type:String,default:"bg-black/80"}},setup(e){const a=e,l=t(),r=b(),u=s(()=>a.showBack&&"/comic"!==r.path),f=s(()=>{if(a.customBreadcrumbs)return a.customBreadcrumbs;const e=[],t=r.path;return"/profile"===t?e.push({name:"个人中心",path:null}):"/collection"===t?e.push({name:"我的收藏",path:null}):"/bookmarks"===t?e.push({name:"我的书签",path:null}):"/reading-history"===t?e.push({name:"阅读历史",path:null}):"/recharge-history"===t&&e.push({name:"充值记录",path:null}),e}),h=s(()=>!!a.backgroundImage),C=s(()=>a.backgroundImage?{backgroundImage:`url('${a.backgroundImage}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}:{}),H=()=>{a.backTo?l.push(a.backTo):l.back()};return(t,a)=>{const l=o("router-link");return n(),i("div",{class:"min-h-screen bg-gray-900",style:A(C.value)},[e.showTopNav?(n(),g(U,{key:0,class:"hidden lg:block"})):x("",!0),e.noHeader?x("",!0):(n(),i("div",ae,[a[2]||(a[2]=c("div",{class:"absolute inset-0 bg-gray-900/80 backdrop-blur-xl border-b border-white/10"},null,-1)),a[3]||(a[3]=c("div",{class:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500"},null,-1)),c("div",le,[c("div",re,[u.value?(n(),i("button",{key:0,onClick:H,class:"group flex items-center space-x-1 text-gray-300 hover:text-pink-400 transition-all duration-300 flex-shrink-0 cursor-pointer relative z-10"},[a[0]||(a[0]=c("div",{class:"absolute -inset-2 bg-pink-500/0 group-hover:bg-pink-500/10 rounded-lg transition-all duration-300 pointer-events-none"},null,-1)),a[1]||(a[1]=c("svg",{class:"w-5 h-5 relative transition-transform group-active:scale-95",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)),c("span",se,k(e.backText),1)])):(n(),i("div",oe)),c("div",ie,[w(t.$slots,"title",{},()=>[c("h1",ne,k(e.title),1)],!0)]),c("div",ce,[w(t.$slots,"action",{},void 0,!0)])])])])),c("div",de,[h.value&&e.backgroundOverlay?(n(),i("div",{key:0,class:y(["absolute inset-0 pointer-events-none",e.backgroundOverlay])},null,2)):x("",!0),c("div",{class:y({relative:h.value})},["/comic"===m(r).path||e.hideBreadcrumbs?x("",!0):(n(),i("div",pe,[c("div",ue,[c("nav",ve,[d(l,{to:"/comic",class:"text-gray-500 hover:text-pink-400 transition-colors flex items-center"},{default:p(()=>[...a[4]||(a[4]=[c("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),v(" 首页 ",-1)])]),_:1}),(n(!0),i(B,null,z(f.value,(e,t)=>(n(),i(B,{key:t},[a[5]||(a[5]=c("svg",{class:"w-4 h-4 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e.path&&t<f.value.length-1?(n(),g(l,{key:0,to:e.path,class:"text-gray-500 hover:text-pink-400 transition-colors"},{default:p(()=>[v(k(e.name),1)]),_:2},1032,["to"])):(n(),i("span",ge,k(e.name),1))],64))),128))])])])),e.pageLoading?(n(),i("div",xe,[d(M)])):x("",!0),_(c("div",null,[w(t.$slots,"default",{},void 0,!0)],512),[[j,!e.pageLoading]])],2)]),e.showBottomNav?(n(),g(te,{key:2})):x("",!0)],4)}}},[["__scopeId","data-v-a74047cc"]]);export{me as G};
