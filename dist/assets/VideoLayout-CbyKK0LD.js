import{a0 as e,B as t,d as a,a as l,b as o,O as r,ai as s,l as i,i as n,u as d,r as c,j as u,M as p,f as v,w as g,Q as h,V as m,a5 as x,c as f,e as b,t as y,v as k,aj as w,ak as _,s as B,am as z,x as L,a4 as j,F as C,h as M,L as S,R as I,N as V}from"./index-Dk5K0Uig.js";const $=e.create({baseURL:"https://api.modu18.vip",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!1});$.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const A=async e=>(await $.get("/api/online-video",{params:e})).data,H=async(e=null)=>(await $.get("/api/online-video-settings",{params:{source:e}})).data,P=async e=>{const t=localStorage.getItem("auth_token")?`/api/online-video/${e}/detail`:`/api/public/online-video/${e}/detail`;return(await $.get(t)).data},T=async(e={})=>(await $.get("/api/online-video/hot-recommendations",{params:{limit:e.limit||10,type_name:e.type_name||null}})).data,N={class:"flex items-center space-x-2"},D={class:"logo-container"},O={class:"flex items-baseline"},U=t({__name:"VideoSiteLogo",props:{size:{type:String,default:"normal",validator:e=>["small","normal"].includes(e)}},setup:e=>(t,i)=>(l(),a("div",N,[o("div",D,[o("img",{src:s,alt:"魔都",class:r(["object-contain logo-enhanced","small"===e.size?"w-10 h-10":"w-12 h-12 sm:w-14 sm:h-14"])},null,2)]),o("div",O,[o("span",{class:r(["hidden sm:inline text-purple-500 font-extrabold tracking-wider","small"===e.size?"text-lg":"text-xl sm:text-2xl"]),style:{"font-family":"'Pacifico', 'Dancing Script', 'Satisfy', 'Kaushan Script', 'Permanent Marker', fantasy","text-shadow":"2px 2px 0 rgba(31, 41, 55, 0.8), 3px 3px 0 rgba(168, 85, 247, 0.5)","letter-spacing":"0.05em"}}," 魔都 ",2),o("span",{class:r(["hidden sm:inline text-purple-400 mx-0.5","small"===e.size?"text-xs":"text-sm"])},"♥",2),o("span",{class:r(["text-purple-500 font-extrabold tracking-wider","small"===e.size?"text-lg":"text-xl sm:text-2xl"]),style:{"font-family":"'Pacifico', 'Dancing Script', 'Satisfy', 'Kaushan Script', 'Permanent Marker', fantasy","text-shadow":"2px 2px 0 rgba(31, 41, 55, 0.8), 3px 3px 0 rgba(168, 85, 247, 0.5)","letter-spacing":"0.05em"}}," 视频 ",2)])]))},[["__scopeId","data-v-005654e6"]]),q={class:"relative"},R={class:"relative h-40 sm:h-48 lg:h-56"},K={class:"relative z-50 pt-safe"},W={class:"container mx-auto px-4"},X={class:"flex items-center justify-between h-16 sm:h-20"},F={class:"flex items-center gap-6"},Q={class:"flex-1 max-w-xl mx-4 hidden lg:block"},Y={class:"relative group"},E={class:"flex items-center gap-2 sm:gap-4"},G={class:"hidden md:flex items-center gap-2"},J={class:"flex md:hidden items-center gap-1"},Z={class:"absolute bottom-0 left-0 right-0"},ee={class:"container mx-auto px-4"},te={class:"flex items-center gap-4 sm:gap-6 h-12"},ae=t({__name:"VideoHeader",setup(e){const t=i(),r=n(),s=d(),B=c("");c(!1);const z=c(!1),L=u(()=>{if(!r.user?.video_expired_at)return!1;return new Date(r.user.video_expired_at)>new Date});u(()=>r.user?.name?r.user.name.charAt(0).toUpperCase():"U");const j=()=>{const e=B.value.trim();e&&(t.push({name:"video-home",query:{q:e}}),B.value="")};return(e,t)=>{const i=p("router-link");return l(),a("header",q,[o("div",R,[t[11]||(t[11]=o("div",{class:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/img_1.png)"}},[o("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/40"}),o("div",{class:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black/5 to-transparent"})],-1)),o("nav",K,[o("div",W,[o("div",X,[o("div",F,[v(i,{to:"/",class:"flex items-center"},{default:g(()=>[v(U,{size:"small"})]),_:1})]),o("div",Q,[o("div",Y,[t[3]||(t[3]=o("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-full blur opacity-0 group-hover:opacity-30 transition-opacity"},null,-1)),h(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>B.value=e),onKeyup:x(j,["enter"]),type:"text",placeholder:"搜索视频...",class:"relative w-full px-4 py-2 pl-10 bg-gray-900/60 backdrop-blur-xl border border-white/20 rounded-full text-gray-200 placeholder-gray-400 focus:outline-none focus:border-pink-500/50 focus:bg-gray-900/70 transition-all"},null,544),[[m,B.value]]),t[4]||(t[4]=o("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),o("button",{onClick:j,class:"absolute right-1 top-1/2 -translate-y-1/2 px-4 py-1 bg-gradient-to-r from-pink-500/30 to-purple-500/30 backdrop-blur-sm border border-pink-400/50 hover:from-pink-500/40 hover:to-purple-500/40 hover:border-pink-400/70 text-pink-200 hover:text-white text-sm rounded-full transition-all cursor-pointer"}," 搜索 ")])]),o("div",E,[y(s).shouldShowAppDownload?(l(),f(i,{key:0,to:"/app-download",class:"flex items-center gap-1 px-2.5 py-1 bg-gray-700/40 backdrop-blur-sm border border-gray-500/40 hover:bg-gray-600/50 hover:border-pink-500/30 text-gray-300 hover:text-pink-300 rounded-lg transition-all cursor-pointer",title:"安装 APP"},{default:g(()=>[...t[5]||(t[5]=[o("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),o("span",{class:"text-xs font-medium"},"APP",-1)])]),_:1})):b("",!0),o("div",G,[y(r).isLoggedIn?(l(),f(i,{key:0,to:"/video-collection",class:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",title:"视频收藏"},{default:g(()=>[...t[6]||(t[6]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)])]),_:1})):b("",!0),y(r).isLoggedIn&&L.value?b("",!0):(l(),f(i,{key:1,to:"/vip?tab=video",class:"relative group"},{default:g(()=>[...t[7]||(t[7]=[o("div",{class:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-yellow-400 rounded-full blur-sm opacity-70 group-hover:opacity-100 animate-pulse"},null,-1),o("div",{class:"relative px-3 py-1.5 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm border border-yellow-400/50 text-yellow-300 text-sm font-medium rounded-full transition-all group-hover:scale-105 group-hover:border-yellow-300 group-hover:text-yellow-200 cursor-pointer"},[o("div",{class:"flex items-center gap-1"},[o("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),k(" 充值 ")])],-1)])]),_:1}))]),o("div",J,[y(r).isLoggedIn&&L.value?b("",!0):(l(),f(i,{key:0,to:"/vip?tab=video",class:"relative group"},{default:g(()=>[...t[8]||(t[8]=[o("div",{class:"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full blur-sm opacity-60 group-hover:opacity-90"},null,-1),o("div",{class:"relative px-2 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm border border-yellow-400/40 text-yellow-300 text-xs font-medium rounded-full transition-all cursor-pointer"}," 充值 ",-1)])]),_:1}))]),v(w)])])])]),o("div",Z,[o("div",ee,[o("div",te,[v(i,{to:"/comic",class:"flex-shrink-0 px-3 py-1 whitespace-nowrap",title:"魔都漫画"},{default:g(()=>[...t[9]||(t[9]=[o("span",{class:"text-sm font-bold bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text text-transparent"}," 魔都漫画 ",-1)])]),_:1}),o("button",{onClick:t[1]||(t[1]=e=>z.value=!0),class:"flex-shrink-0 px-3 py-1 text-white/80 hover:text-white text-sm font-medium hover:bg-white/10 rounded-lg transition-all whitespace-nowrap cursor-pointer",title:"永久链接"}," 永久链接 "),t[10]||(t[10]=o("a",{href:"https://t.me/+frktRDVHynY3OTA1",target:"_blank",rel:"noopener noreferrer",class:"flex-shrink-0 px-3 py-1 text-pink-300 hover:text-pink-200 text-sm font-bold hover:bg-white/10 rounded-lg transition-all whitespace-nowrap",title:"加入社群"}," 加入社群 ",-1))])])])]),v(_,{modelValue:z.value,"onUpdate:modelValue":t[2]||(t[2]=e=>z.value=e)},null,8,["modelValue"])])}}},[["__scopeId","data-v-cbe8a8ed"]]),le={class:"lg:hidden fixed bottom-0 left-0 right-0 z-40"},oe={class:"relative grid grid-cols-3 h-20 pb-safe"},re={key:0,class:"absolute inset-0 bg-gradient-to-t from-pink-500/20 to-transparent"},se={class:"relative"},ie={key:0,class:"absolute inset-0 bg-gradient-to-t from-purple-500/20 to-transparent"},ne={class:"relative"},de={key:0,class:"absolute inset-0 bg-gradient-to-t from-yellow-500/20 to-transparent"},ce={class:"relative"},ue=t({__name:"VideoMobileBottomNav",setup(e){const t=B(),s=i(),d=n(),{isUserMenuOpen:c,toggle:h}=z(),m=u(()=>"/video"===t.path),x=u(()=>c.value),f=()=>{d.isLoggedIn?h():s.push("/login")};return(e,t)=>{const s=p("router-link");return l(),a("div",le,[t[3]||(t[3]=o("div",{class:"absolute inset-0 bg-gray-900/80 backdrop-blur-xl border-t border-white/10"},null,-1)),t[4]||(t[4]=o("div",{class:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500"},null,-1)),o("div",oe,[v(s,{to:"/video",class:r(["group flex flex-col items-center justify-center py-3 transition-all duration-300 relative",{"text-pink-400":m.value,"text-gray-400":!m.value}])},{default:g(()=>[m.value?(l(),a("div",re)):b("",!0),o("div",se,[(l(),a("svg",{class:r(["w-7 h-7 transition-transform group-active:scale-95",{"filter drop-shadow-[0_0_8px_rgba(236,72,153,0.5)]":m.value}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[0]||(t[0]=[o("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},null,-1)])],2))]),o("span",{class:r(["text-xs mt-1.5 font-medium",{"text-pink-400":m.value,"text-gray-500":!m.value}])}," 首页 ",2)]),_:1},8,["class"]),v(s,{to:"/video/favorites",class:r(["group flex flex-col items-center justify-center py-3 transition-all duration-300 relative",{"text-purple-400":"/video/favorites"===e.$route.path,"text-gray-400":"/video/favorites"!==e.$route.path}])},{default:g(()=>["/video/favorites"===e.$route.path?(l(),a("div",ie)):b("",!0),o("div",ne,[(l(),a("svg",{class:r(["w-7 h-7 transition-transform group-active:scale-95",{"filter drop-shadow-[0_0_8px_rgba(168,85,247,0.5)]":"/video/favorites"===e.$route.path}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[1]||(t[1]=[o("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"},null,-1)])],2))]),o("span",{class:r(["text-xs mt-1.5 font-medium",{"text-purple-400":"/video/favorites"===e.$route.path,"text-gray-500":"/video/favorites"!==e.$route.path}])}," 收藏 ",2)]),_:1},8,["class"]),o("button",{onClick:f,class:r(["group flex flex-col items-center justify-center py-3 transition-all duration-300 relative cursor-pointer",{"text-yellow-400":x.value,"text-gray-400":!x.value}])},[x.value?(l(),a("div",de)):b("",!0),o("div",ce,[(l(),a("svg",{class:r(["w-7 h-7 transition-transform group-active:scale-95",{"filter drop-shadow-[0_0_8px_rgba(250,204,21,0.5)]":x.value}]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[2]||(t[2]=[o("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"},null,-1)])],2))]),o("span",{class:r(["text-xs mt-1.5 font-medium",{"text-yellow-400":x.value,"text-gray-500":!x.value}])}," 我的 ",2)],2)])])}}},[["__scopeId","data-v-c441045c"]]),pe={key:1,class:"lg:hidden sticky top-0 left-0 right-0 z-20"},ve={class:"relative container mx-auto px-4 pt-safe"},ge={class:"flex items-center justify-between h-14"},he={class:"text-sm font-medium relative"},me={key:1,class:"w-16"},xe={class:"flex-1 min-w-0 px-2"},fe={class:"text-gray-100 font-semibold text-base truncate text-center transition-all duration-300 hover:bg-gradient-to-r hover:from-pink-400 hover:to-purple-400 hover:bg-clip-text hover:text-transparent"},be={class:"flex-shrink-0 w-16 flex justify-end"},ye={class:"min-h-screen relative"},ke={key:0,class:"hidden lg:block"},we={class:"container mx-auto px-4 py-2"},_e={class:"flex items-center space-x-2 text-sm"},Be={key:1,class:"text-gray-300"},ze={key:1,class:"min-h-[60vh] flex items-center justify-center"},Le={key:3,class:"lg:hidden"},je=t({__name:"VideoLayout",props:{title:{type:String,default:"在线视频"},showBack:{type:Boolean,default:!0},backText:{type:String,default:"返回"},backTo:{type:String,default:null},showBottomNav:{type:Boolean,default:!0},noHeader:{type:Boolean,default:!1},hideAppHeader:{type:Boolean,default:!1},showTopNav:{type:Boolean,default:!0},hideBreadcrumbs:{type:Boolean,default:!1},customBreadcrumbs:{type:Array,default:null},pageLoading:{type:Boolean,default:!1},backgroundImage:{type:String,default:"/img_6.png"},backgroundOverlay:{type:String,default:"bg-black/80"}},setup(e){const t=e,s=i(),n=B(),d=u(()=>t.showBack&&"/video"!==n.path),c=u(()=>{if(t.customBreadcrumbs)return t.customBreadcrumbs;const e=[],a=n.path;return"/video/search"===a?e.push({name:"搜索",path:null}):a.startsWith("/video/")&&"/video"!==a&&e.push({name:"视频详情",path:null}),e}),m=u(()=>!!t.backgroundImage),x=u(()=>t.backgroundImage?{backgroundImage:`url('${t.backgroundImage}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}:{}),_=()=>{t.backTo?s.push(t.backTo):s.back()};return(t,s)=>{const i=p("router-link");return l(),a("div",{class:"min-h-screen bg-gray-900",style:V(x.value)},[e.showTopNav?(l(),f(ae,{key:0,class:r(e.noHeader?"":"hidden lg:block")},null,8,["class"])):b("",!0),e.noHeader?b("",!0):(l(),a("div",pe,[s[2]||(s[2]=o("div",{class:"absolute inset-0 bg-gray-900/80 backdrop-blur-xl border-b border-white/10"},null,-1)),s[3]||(s[3]=o("div",{class:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500"},null,-1)),o("div",ve,[o("div",ge,[d.value?(l(),a("button",{key:0,onClick:_,class:"group flex items-center space-x-1 text-gray-300 hover:text-pink-400 transition-all duration-300 flex-shrink-0 cursor-pointer relative z-10"},[s[0]||(s[0]=o("div",{class:"absolute -inset-2 bg-pink-500/0 group-hover:bg-pink-500/10 rounded-lg transition-all duration-300 pointer-events-none"},null,-1)),s[1]||(s[1]=o("svg",{class:"w-5 h-5 relative transition-transform group-active:scale-95",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)),o("span",he,L(e.backText),1)])):(l(),a("div",me)),o("div",xe,[j(t.$slots,"title",{},()=>[o("h1",fe,L(e.title),1)],!0)]),o("div",be,[j(t.$slots,"action",{},void 0,!0)])])])])),o("div",ye,[m.value&&e.backgroundOverlay?(l(),a("div",{key:0,class:r(["absolute inset-0 pointer-events-none",e.backgroundOverlay])},null,2)):b("",!0),o("div",{class:r({relative:m.value})},["/video"===y(n).path||e.hideBreadcrumbs?b("",!0):(l(),a("div",ke,[o("div",we,[o("nav",_e,[v(i,{to:"/video",class:"text-gray-500 hover:text-pink-400 transition-colors flex items-center"},{default:g(()=>[...s[4]||(s[4]=[o("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),k(" 视频首页 ",-1)])]),_:1}),(l(!0),a(C,null,M(c.value,(e,t)=>(l(),a(C,{key:t},[s[5]||(s[5]=o("svg",{class:"w-4 h-4 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e.path&&t<c.value.length-1?(l(),f(i,{key:0,to:e.path,class:"text-gray-500 hover:text-pink-400 transition-colors"},{default:g(()=>[k(L(e.name),1)]),_:2},1032,["to"])):(l(),a("span",Be,L(e.name),1))],64))),128))])])])),e.pageLoading?(l(),a("div",ze,[v(S)])):b("",!0),h(o("div",null,[j(t.$slots,"default",{},void 0,!0)],512),[[I,!e.pageLoading]])],2)]),e.showBottomNav?(l(),f(ue,{key:2})):b("",!0),e.showTopNav&&!e.noHeader?(l(),a("div",Le,[v(w,{hideButton:!0})])):b("",!0)],4)}}},[["__scopeId","data-v-bad9e383"]]);export{je as V,A as a,T as b,P as c,H as g};
