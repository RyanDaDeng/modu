!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function s(e,a,l,o){var s=a&&a.prototype instanceof u?a:u,c=Object.create(s.prototype);return t(c,"_invoke",function(e,t,a){var l,o,s,u=0,c=a||[],v=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return l=e,o=0,s=n,d.n=t,i}};function p(e,t){for(o=e,s=t,r=0;!v&&u&&!a&&r<c.length;r++){var a,l=c[r],p=d.p,f=l[2];e>3?(a=f===t)&&(s=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=n):l[0]<=p&&((a=e<2&&p<l[1])?(o=0,d.v=t,d.n=l[1]):p<f&&(a=e<3||l[0]>t||t>f)&&(l[4]=e,l[5]=t,d.n=f,o=0))}if(a||e>1)return i;throw v=!0,t}return function(a,c,f){if(u>1)throw TypeError("Generator is already running");for(v&&1===c&&p(c,f),o=c,s=f;(r=o<2?n:s)||!v;){l||(o?o<3?(o>1&&(d.n=-1),p(o,s)):d.n=s:d.v=s);try{if(u=2,l){if(o||(a="next"),r=l[a]){if(!(r=r.call(l,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,o<2&&(o=0)}else 1===o&&(r=l.return)&&r.call(l),o<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),o=1);l=n}else if((r=(v=d.n<0)?s:e.call(t,d))!==i)break}catch(r){l=n,o=1,s=r}finally{u=1}}return{value:r,done:v}}}(e,l,o),!0),c}var i={};function u(){}function c(){}function v(){}r=Object.getPrototypeOf;var d=[][l]?r(r([][l]())):(t(r={},l,function(){return this}),r),p=v.prototype=u.prototype=Object.create(d);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,t(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return c.prototype=v,t(p,"constructor",v),t(v,"constructor",c),c.displayName="GeneratorFunction",t(v,o,"GeneratorFunction"),t(p),t(p,o,"Generator"),t(p,l,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:f}})()}function t(e,n,r,a){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}t=function(e,n,r,a){function o(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?l?l(e,n,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[n]=r:(o("next",0),o("throw",1),o("return",2))},t(e,n,r,a)}function n(e,t,n,r,a,l,o){try{var s=e[l](o),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(a,l){var o=e.apply(t,r);function s(e){n(o,a,l,s,i,"next",e)}function i(e){n(o,a,l,s,i,"throw",e)}s(void 0)})}}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-AqQVAtWt.js","./bookmark-legacy-DYwlrvyS.js","./useNotification-legacy-VWD-W3cd.js","./UnifiedComicCard-legacy-T4qwJJre.js"],function(t,n){"use strict";var l,o,s,i,u,c,v,d,p,f,m,g,h,x,b,y,w,k,C,I,j,M,z,L,S,V,_,B,P,T,E,H,O,F,A,U,D,G,Y,q,N,R,$,W,J,K,Q;return{setters:[function(e){l=e.y,o=e.z,s=e.u,i=e.i,u=e.B,c=e.q,v=e.r,d=e.j,p=e.o,f=e.m,m=e.c,g=e.w,h=e.A,x=e.C,b=e.D,y=e.E,w=e.G,k=e.H,C=e.I,I=e.J,j=e.k,M=e.K,z=e.a,L=e.d,S=e.e,V=e.f,_=e.b,B=e.L,P=e.M,T=e.N,E=e.v,H=e.s,O=e.O,F=e.F,A=e.h,U=e.t,D=e.P,G=e.Q,Y=e.T,q=e.R,N=e.S,R=e.U,$=e.V,W=e.W},function(e){J=e.a},function(e){K=e.u},function(e){Q=e.U}],execute:function(){var n=document.createElement("style");function X(e,t,n){if(t<220980||e.src.includes(".gif"))return e;var r=document.createElement("canvas"),a=r.getContext("2d");r.width=e.naturalWidth,r.height=e.naturalHeight;var o=function(e,t){if(e>=220980&&e<268850)return 10;var n=l(e+t),r=n.charCodeAt(n.length-1);return(r%=e>=268850&&e<=421925?10:8)>=0&&r<=9?2*r+2:10}(t,n),s=Math.floor(r.height/o),i=r.height%o;a.drawImage(e,0,r.height-s-i,r.width,s+i,0,0,r.width,s+i);for(var u=0;u<o-1;u++)a.drawImage(e,0,s*(o-u-2),r.width,s,0,(u+1)*s+i,r.width,s);return r}function Z(e,t,n){return"".concat(e,"/media/photos/").concat(t,"/").concat(n)}function ee(){var e=(new Date).getHours();return e<=3||e>=21?1:e>=18?3:5}n.textContent=".line-clamp-3[data-v-aa393ed4]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.fade-enter-active[data-v-aa393ed4],.fade-leave-active[data-v-aa393ed4]{transition:opacity .3s ease}.fade-enter-from[data-v-aa393ed4],.fade-leave-to[data-v-aa393ed4]{opacity:0}.slider[data-v-aa393ed4]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;background:#10b981;border-radius:50%;cursor:pointer}.slider[data-v-aa393ed4]::-moz-range-thumb{width:16px;height:16px;background:#10b981;border-radius:50%;cursor:pointer;border:none}.slider[data-v-aa393ed4]::-webkit-slider-thumb:hover{background:#059669}.slider[data-v-aa393ed4]::-moz-range-thumb:hover{background:#059669}@keyframes spin-slow-aa393ed4{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin-slow[data-v-aa393ed4]{animation:spin-slow-aa393ed4 3s linear infinite}\n/*$vite$:1*/",document.head.appendChild(n);var te={key:0,class:"flex justify-center items-center min-h-screen"},ne={class:"flex flex-col items-center"},re={key:1},ae={class:"relative"},le={class:"relative container mx-auto px-4 py-8"},oe={class:"flex flex-col md:flex-row gap-6"},se={class:"flex flex-col items-center gap-4 flex-shrink-0 mx-auto md:mx-0"},ie={class:"w-32 sm:w-48 h-44 sm:h-64"},ue=["src","alt"],ce={key:1,class:"w-full h-full bg-gray-700 rounded-lg animate-pulse"},ve=["disabled"],de={class:"flex-1 text-white text-center md:text-left"},pe={class:"text-xl sm:text-2xl md:text-3xl font-bold mb-3"},fe={class:"text-sm sm:text-base text-gray-300 mb-2"},me={class:"text-sm sm:text-base text-gray-300 mb-4"},ge={class:"flex flex-wrap justify-center md:justify-start gap-3 sm:gap-6 mb-4"},he={class:"flex items-center gap-1 sm:gap-2"},xe={class:"text-sm sm:text-base"},be={class:"text-gray-400 text-xs sm:text-sm"},ye={class:"flex items-center gap-1 sm:gap-2"},we={class:"text-sm sm:text-base"},ke={class:"flex items-center gap-1 sm:gap-2"},Ce={class:"text-sm sm:text-base"},Ie={key:0,class:"flex flex-wrap gap-2 mb-6"},je=["onClick"],Me={key:1,class:"text-gray-300 mb-6 line-clamp-3"},ze={class:"container mx-auto px-4 py-6"},Le={class:"flex border-b border-gray-700 mb-6"},Se={class:"text-xs sm:text-sm"},Ve={class:"bg-gray-900/60 backdrop-blur-sm border border-white/10 rounded-xl p-4 sm:p-6"},_e={key:0,class:"space-y-4"},Be={key:0,class:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-3"},Pe=["onClick"],Te={class:"absolute -top-2 -right-2 z-10 pointer-events-none"},Ee={key:0,class:"inline-flex items-center px-2 py-0.5 text-xs font-bold bg-pink-500 text-white rounded-full"},He={key:1,class:"inline-flex items-center px-2 py-0.5 text-xs font-bold bg-green-500 text-white rounded-full"},Oe={key:2,class:"inline-flex items-center px-2 py-0.5 text-xs font-bold bg-gradient-to-r from-yellow-500 to-yellow-600 text-white rounded-full animate-pulse"},Fe={key:1,class:"flex flex-col items-center gap-4"},Ae={key:0,class:"absolute -top-2 -right-2 z-10 pointer-events-none"},Ue={class:"text-center text-gray-400 text-sm"},De={key:0},Ge={key:1,class:"space-y-4"},Ye={key:0,class:"space-y-4"},qe={class:"flex-shrink-0"},Ne=["src","alt"],Re={class:"flex-1 min-w-0"},$e={class:"flex items-center gap-2 mb-2"},We={class:"font-semibold text-white text-sm sm:text-base truncate"},Je={class:"text-xs text-gray-500"},Ke={class:"text-gray-300 text-sm sm:text-base break-words"},Qe={key:1,class:"text-center py-8 text-gray-500"},Xe={key:2,class:"flex justify-center py-8"},Ze={key:0,class:"container mx-auto px-4 pb-6"},et={class:"bg-gray-900/60 backdrop-blur-sm border border-white/10 rounded-lg p-4 sm:p-6"},tt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},nt={class:"container mx-auto"},rt={class:"flex items-center justify-between px-3 sm:px-4 py-2"},at={class:"hidden sm:flex items-center gap-3 text-sm flex-1 justify-center"},lt={class:"text-white font-semibold text-base"},ot={class:"text-gray-400"},st={class:"flex sm:hidden items-center text-xs flex-1 justify-center px-2 gap-2"},it={class:"text-white font-semibold truncate"},ut={class:"text-gray-400"},ct={class:"flex items-center gap-1 sm:gap-2"},vt=["title"],dt={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},pt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ft={class:"h-0.5 bg-gray-800"},mt=["title"],gt={key:0,class:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20"},ht={key:1,class:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20"},xt={key:1,class:"flex justify-center items-center h-screen"},bt={class:"flex flex-col items-center"},yt={key:2,class:"flex justify-center items-center h-screen"},wt={class:"bg-red-900/50 border border-red-700 rounded-lg p-6 text-center max-w-md"},kt={class:"text-red-400"},Ct={key:3,class:"pt-10 pb-8 bg-black"},It={class:"max-w-3xl sm:max-w-4xl lg:max-w-5xl mx-auto"},jt=["data-index"],Mt={key:0,class:"flex items-center justify-center min-h-[300px] sm:min-h-[500px]"},zt={key:0,class:"flex flex-col items-center text-gray-400"},Lt=["onClick"],St=["src","alt","onLoad","onError"],Vt={key:0,class:"mt-8 text-center"},_t=["disabled"],Bt={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Pt={key:1,class:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Tt={class:"text-gray-400 text-sm mt-2"},Et={key:1,class:"mt-8 p-6 bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl border border-yellow-500/30"},Ht={class:"text-center space-y-4"},Ot={class:"text-gray-300"},Ft={class:"flex flex-col sm:flex-row gap-3 justify-center mt-6"},At={key:2,class:"mt-12 mb-8"},Ut={class:"relative px-4 py-8 sm:py-12"},Dt={class:"relative max-w-md mx-auto"},Gt={class:"relative overflow-hidden rounded-2xl bg-gray-900/60 backdrop-blur-xl border border-white/10 p-6 sm:p-8 transition-all duration-300 group-hover:bg-gray-900/70 group-hover:border-white/20 group-hover:shadow-2xl group-hover:shadow-pink-500/20"},Yt={class:"relative flex items-center justify-between"},qt={class:"relative"},Nt={key:0,class:"w-8 h-8 sm:w-10 sm:h-10 text-white",fill:"currentColor",viewBox:"0 0 20 20"},Rt={key:1,class:"w-8 h-8 sm:w-10 sm:h-10 text-white transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$t={key:0,class:"mt-4 pt-4 border-t border-white/10"},Wt={class:"relative w-full max-w-lg sm:max-w-xl"},Jt={class:"relative bg-gray-900/90 backdrop-blur-xl rounded-2xl w-full p-4 sm:p-8 border border-white/10"},Kt={class:"flex items-center justify-between mb-4 sm:mb-6"},Qt={key:0,class:"mb-3 sm:mb-6"},Xt={class:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2"},Zt={key:1,class:"mb-3 sm:mb-6 space-y-3 sm:space-y-4"},en={class:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2"},tn={class:"block text-xs sm:text-sm font-medium text-gray-300 mb-1.5 sm:mb-2"},nn={class:"mb-4 sm:mb-6"},rn={class:"grid grid-cols-2 gap-2 sm:gap-3"},an={class:"text-[10px] sm:text-xs text-gray-500 mt-1 sm:mt-2"},ln={class:"mb-3 sm:mb-6"},on={key:0},sn={key:1},un={class:"mb-4 sm:mb-6"},cn=["disabled"],vn={key:0,class:"flex items-center justify-center gap-2"},dn={key:1,class:"flex items-center justify-center gap-2"},pn={key:2},fn={class:"text-xs sm:text-sm text-gray-500 mt-2"},mn={key:0},gn={key:1},hn={__name:"ChapterView",setup:function(t){var n=c(),l=j(),o=s(),hn=i(),xn=K(),bn=u(function(){return n.params.id}),yn=v({}),wn=v(!1),kn=v(!1),Cn=v([]),In=v(!1),jn=v(!1),Mn=v(""),zn=v(1),Ln=v(!0),Sn=v("chapters"),Vn=v(!1),_n=v(null),Bn=v(""),Pn=v([]),Tn=v(!1),En=v(""),Hn=v(0),On=v(0),Fn=v(!1),An=v(!1),Un=v(0),Dn=v(0),Gn=v(!1),Yn=v(0),qn=v(null),Nn=v(!0),Rn=v(0),$n=v("true"===localStorage.getItem("autoScrollEnabled")),Wn=v(!0),Jn=v(parseInt(localStorage.getItem("autoScrollSpeed"))||50),Kn=v(localStorage.getItem("autoScrollMode")||"smooth"),Qn=v(parseFloat(localStorage.getItem("stepInterval"))||2),Xn=v(parseInt(localStorage.getItem("stepSize"))||150),Zn=v(null),er=v(!1),tr=v(!1);v({});var nr=v(-1),rr=v([]),ar=v([]),lr=v(null),or=v(null),sr=v(!1),ir=v(!1),ur=v(!1),cr=v(!1),vr=v(""),dr=[],pr=0,fr=null,mr=u(function(){return wn.value}),gr=u(function(){var e=a(yn.value.tags||[]),t=yn.value.actors||[];return[].concat(a(e),a(t)).filter(Boolean)}),hr=u(function(){var e=yn.value.likes||0,t=yn.value.total_views||1;return Math.floor(e/t*100)}),xr=u(function(){return Pn.value.length?Math.floor((Un.value+1)/Pn.value.length*100):0}),br=u(function(){var e;if(!_n.value)return"";if(null!==(e=yn.value.series)&&void 0!==e&&e.length){var t=yn.value.series.findIndex(function(e){return e.id==_n.value});if(t>=0)return"第".concat(t+1,"章")}return"第1章"}),yr=u(function(){var e;return!(null===(e=yn.value.series)||void 0===e||!e.length||!_n.value)&&yn.value.series.findIndex(function(e){return e.id==_n.value})>0}),wr=u(function(){if(!yr.value)return null;var e=yn.value.series.findIndex(function(e){return e.id==_n.value});return e>0?yn.value.series[e-1].id:null}),kr=u(function(){var e;if(null===(e=yn.value.series)||void 0===e||!e.length||!_n.value)return!1;var t=yn.value.series.findIndex(function(e){return e.id==_n.value});return t>=0&&t<yn.value.series.length-1}),Cr=u(function(){if(!kr.value)return null;var e=yn.value.series.findIndex(function(e){return e.id==_n.value});return e>=0&&e<yn.value.series.length-1?yn.value.series[e+1].id:null}),Ir=u(function(){return!!Pn.value.length&&Pn.value.every(function(e){return e.loaded||e.error})}),jr=u(function(){if(!kr.value)return!1;var e=yn.value.series.findIndex(function(e){return e.id==_n.value});return Er(e+1)}),Mr=function(e){var t=k();return"".concat(t,"/media/albums/").concat(e,"_3x4.jpg")},zr=function(e){return{id:e.id,name:e.name||e.title,title:e.name||e.title,image:e.image||null}},Lr=function(e){e.target.src="/default.jpeg"},Sr=function(e){e.target.src="/default.jpeg"},Vr=function(){var t=r(e().m(function t(){var n,r,a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(o.isLoggedIn){e.n=1;break}return ir.value=!0,e.a(2);case 1:if(!kn.value){e.n=2;break}return e.a(2);case 2:return kn.value=!0,e.p=3,e.n=4,W({id:bn.value,name:yn.value.name,author:null===(n=yn.value.author)||void 0===n?void 0:n.join(" & ")});case 4:"is_collected"in(r=e.v)&&(wn.value=r.is_collected,r.is_collected?xn.success("收藏成功"):xn.success("取消收藏成功"),console.log("Toggled favorite, new status:",r.is_collected)),e.n=6;break;case 5:e.p=5,a=e.v,console.error("Failed to toggle favorite:",a),xn.error("操作失败，请稍后重试");case 6:return e.p=6,kn.value=!1,e.f(6);case 7:return e.a(2)}},t,null,[[3,5,6,7]])}));return function(){return t.apply(this,arguments)}}(),_r=function(){var t=r(e().m(function t(){var n,r,a,l;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(bn.value&&"undefined"!==bn.value){e.n=1;break}return console.warn("Invalid comic ID:",bn.value),In.value=!1,e.a(2);case 1:return In.value=!0,Mn.value="",e.p=2,e.n=3,b(bn.value);case 3:if(n=e.v,yn.value=n,console.log("Album data:",n),!o.isLoggedIn||!bn.value){e.n=8;break}return e.p=4,e.n=5,y(bn.value);case 5:r=e.v,wn.value=r.is_collected||!1,console.log("Favorite status:",r),e.n=7;break;case 6:e.p=6,a=e.v,console.error("Failed to check favorite status:",a),wn.value=!1;case 7:e.n=9;break;case 8:wn.value=!1;case 9:return"comments"!==Sn.value||Cn.value.length||Xr(),e.n=10,Br();case 10:e.n=12;break;case 11:e.p=11,l=e.v,console.error("Failed to load comic info:",l),Mn.value="加载失败，请稍后重试";case 12:return e.p=12,In.value=!1,e.f(12);case 13:return e.a(2)}},t,null,[[4,6],[2,11,12,13]])}));return function(){return t.apply(this,arguments)}}(),Br=function(){var t=r(e().m(function t(){var n;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,x.getByComicId(bn.value);case 1:(n=e.v)&&(nr.value=n.chapterIndex);case 2:return e.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),Pr=function(){var t=r(e().m(function t(n){var r,a,l,o;return e().w(function(e){for(;;)switch(e.n){case 0:if(a=bn.value,l="",o=-1,null!==(r=yn.value.series)&&void 0!==r&&r.length?(o=yn.value.series.findIndex(function(e){return e.id==n}))>=0&&(l="第".concat(o+1,"章")):(o=0,l="单章节"),!(o>=0)){e.n=1;break}return e.n=1,x.add({comicId:a,comicTitle:yn.value.name||"",chapterId:n,chapterTitle:l,chapterIndex:o,coverImage:Mr(a)});case 1:nr.value=o;case 2:return e.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Tr=function(){var e;return!(null===(e=o.user)||void 0===e||!e.vip_expired_at)&&new Date(o.user.vip_expired_at)>new Date},Er=function(e){var t;return(!o.isLoggedIn||!Tr())&&(!(null===(t=yn.value.series)||void 0===t||!t.length)&&e>=10)},Hr=function(){Yr(bn.value,!0)},Or=function(){$r(),l.push("/vip")},Fr=function(){ir.value=!1,l.push({path:"/login",query:{redirect:n.fullPath}})},Ar=function(){ir.value=!1,l.push({path:"/register",query:{redirect:n.fullPath}})},Ur=function(){ur.value=!1,l.push("/vip")},Dr=function(){_n.value?(vr.value="是否要为《".concat(yn.value.name,"》").concat(br.value,"添加书签？"),cr.value=!0):xn.warning("请先选择一个章节")},Gr=function(){var t=r(e().m(function t(){var n,r,a,l,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n={comic_id:bn.value,chapter_id:_n.value,comic_name:yn.value.name},e.n=1,J(n);case 1:(r=e.v).already_exists?xn.info("该章节已添加书签"):r.is_update?xn.info("书签已更新到当前章节"):xn.success("书签添加成功"),e.n=3;break;case 2:e.p=2,o=e.v,console.error("Bookmark error:",o),"limit_reached"===(null===(a=o.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error_type)?xn.error(o.response.data.message||"书签数量已达上限（50个），请删除一些书签后再试"):xn.error((null===(l=o.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)||"添加书签失败，请稍后再试");case 3:return e.p=3,cr.value=!1,e.f(3);case 4:return e.a(2)}},t,null,[[0,2,3,4]])}));return function(){return t.apply(this,arguments)}}(),Yr=function(){var t=r(e().m(function t(n){var r,a,l,s,i,u,c,v,d,p=arguments;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=p.length>1&&void 0!==p[1]&&p[1],Dn.value=window.scrollY,qn.value=n,Nn.value=!0,Rn.value=0,Pr(n),_n.value=n,Vn.value=!0,Tn.value=!0,En.value="",Pn.value=[],Hn.value=0,Un.value=0,On.value=0,Fn.value=!1,An.value=!1,$n.value&&(Wn.value=!0,Zn.value&&(clearInterval(Zn.value),Zn.value=null)),null!==(r=yn.value.series)&&void 0!==r&&r.length?(yn.value.series.find(function(e){return e.id==n}),l=yn.value.series.findIndex(function(e){return e.id==n}),Bn.value="".concat(yn.value.name," - 第").concat(l+1,"章")):Bn.value=yn.value.name,e.p=1,e.n=2,w(n);case 2:if(s=e.v,console.log("Chapter data for",n,":",s),!s.images||!s.images.length){e.n=4;break}return i=o.isLoggedIn&&Tr(),u=a&&!i,c=s.images,v=u?c.slice(0,10):c,Pn.value=v.map(function(e,t){return{name:e,src:Z(k(),n,e),loaded:!1,loading:!1,error:!1,needProcess:parseInt(n)>=220980&&!e.includes(".gif"),index:t}}),Gn.value=u,Yn.value=c.length,u?(On.value=Pn.value.length,Fn.value=!1):(On.value=Math.min(50,Pn.value.length),Fn.value=Pn.value.length>50),e.n=3,C();case 3:ta(),Rr(),e.n=5;break;case 4:En.value="没有找到章节内容";case 5:e.n=7;break;case 6:e.p=6,d=e.v,console.error("Failed to load chapter:",d),En.value="加载失败，请稍后重试";case 7:return e.p=7,Tn.value=!1,e.f(7);case 8:return e.a(2)}},t,null,[[1,6,7,8]])}));return function(e){return t.apply(this,arguments)}}(),qr=function(){var t=r(e().m(function t(){var n,r;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!An.value&&Fn.value){e.n=1;break}return e.a(2);case 1:return An.value=!0,e.p=2,n=On.value,r=Math.min(n+50,Pn.value.length),On.value=r,Fn.value=r<Pn.value.length,e.n=3,C();case 3:ta();case 4:return e.p=4,An.value=!1,e.f(4);case 5:return e.a(2)}},t,null,[[2,,4,5]])}));return function(){return t.apply(this,arguments)}}(),Nr=function(e){var t=e.target.scrollTop;t<Rn.value||t<50?Nn.value=!0:t>Rn.value&&t>50&&(Nn.value=!1),Rn.value=t,Rr()},Rr=function(){if(lr.value&&rr.value.length)for(var e=lr.value,t=e.scrollTop,n=t+e.clientHeight/2,r=0;r<rr.value.length;r++){var a=rr.value[r];if(a){var l=a.getBoundingClientRect(),o=e.getBoundingClientRect(),s=l.top-o.top+t,i=s+a.offsetHeight;if(n>=s&&n<=i){Un.value=r;break}}}},$r=function(){$n.value&&!Wn.value&&(oa(),Wn.value=!0),Vn.value=!1,_n.value=null,Pn.value=[],Hn.value=0,On.value=0,Fn.value=!1,An.value=!1,Un.value=0,Nn.value=!0,Rn.value=0,fr&&(fr.disconnect(),fr=null),C(function(){window.scrollTo(0,Dn.value)})},Wr=function(){if(Cr.value){var e=yn.value.series.findIndex(function(e){return e.id==_n.value});if(Er(e+1))return $r(),void(o.isLoggedIn?ur.value=!0:ir.value=!0);$n.value&&!Wn.value&&(oa(),Wn.value=!0),Pn.value=[],Hn.value=0,Un.value=0,fr&&(fr.disconnect(),fr=null),lr.value&&lr.value.scrollTo({top:0,behavior:"smooth"}),Yr(Cr.value)}},Jr=function(){Wr()},Kr=function(){wr.value&&($n.value&&!Wn.value&&(oa(),Wn.value=!0),Pn.value=[],Hn.value=0,Un.value=0,fr&&(fr.disconnect(),fr=null),lr.value&&lr.value.scrollTo({top:0,behavior:"smooth"}),Yr(wr.value))},Qr=function(){_n.value&&Yr(_n.value)},Xr=function(){var t=r(e().m(function t(){var n,r;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!jn.value){e.n=1;break}return e.a(2);case 1:return jn.value=!0,zn.value=1,Cn.value=[],e.p=2,e.n=3,I(bn.value,1);case 3:n=e.v,console.log("Loaded comments:",n.length),Cn.value=n,Ln.value=n.length>=10,console.log("Has more comments:",Ln.value),e.n=5;break;case 4:e.p=4,r=e.v,console.error("Failed to load comments:",r);case 5:return e.p=5,jn.value=!1,e.f(5);case 6:return e.a(2)}},t,null,[[2,4,5,6]])}));return function(){return t.apply(this,arguments)}}(),Zr=function(){var t=r(e().m(function t(){var n,r,l,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!jn.value&&Ln.value){e.n=1;break}return e.a(2);case 1:return jn.value=!0,e.p=2,n=zn.value+1,console.log("Loading more comments, page:",n),e.n=3,I(bn.value,n);case 3:r=e.v,console.log("Loaded more comments:",r.length),0===r.length?Ln.value=!1:(zn.value=n,(l=Cn.value).push.apply(l,a(r)),Ln.value=r.length>=10),e.n=5;break;case 4:e.p=4,o=e.v,console.error("Failed to load more comments:",o);case 5:return e.p=5,jn.value=!1,e.f(5);case 6:return e.a(2)}},t,null,[[2,4,5,6]])}));return function(){return t.apply(this,arguments)}}(),ea=function(){var t=r(e().m(function t(n){var a;return e().w(function(t){for(;;)switch(t.n){case 0:if((a=Pn.value[n])&&!a.loaded&&!a.loading){t.n=1;break}return t.a(2,Promise.resolve());case 1:return t.a(2,new Promise(function(){var t=r(e().m(function t(l){var o,s,i,u;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:a.loading=!0,o=ee();case 1:if(!(pr>=o)){t.n=3;break}return t.n=2,new Promise(function(e){return setTimeout(e,100)});case 2:t.n=1;break;case 3:if(pr++,t.p=4,!a.needProcess){t.n=6;break}return(s=new Image).crossOrigin="anonymous",t.n=5,new Promise(function(t,l){s.onload=r(e().m(function r(){var l,o,i;return e().w(function(e){for(;;)switch(e.n){case 0:return l=a.name.substring(0,5),console.log("Processing image ".concat(n," with page ").concat(l)),e.n=1,C();case 1:(o=ar.value[n])&&(i=X(s,parseInt(_n.value),l),o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0)),a.loaded=!0,a.error=!1,Hn.value++,t();case 2:return e.a(2)}},r)})),s.onerror=function(){a.error=!0,l(new Error("Failed to load image"))},s.src=a.src});case 5:t.n=7;break;case 6:return a.loaded=!0,a.error=!1,Hn.value++,t.n=7,new Promise(function(e){return setTimeout(e,50)});case 7:t.n=9;break;case 8:t.p=8,u=t.v,console.error("Failed to load image ".concat(n,":"),u),a.error=!0;case 9:return t.p=9,a.loading=!1,pr--,void 0!==(i=dr.shift())&&ea(i),l(),t.f(9);case 10:return t.a(2)}},t,null,[[4,8,9,10]])}));return function(e){return t.apply(this,arguments)}}()))}},t)}));return function(e){return t.apply(this,arguments)}}(),ta=function(){fr&&fr.disconnect(),fr=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=parseInt(e.target.dataset.index),n=Pn.value[t];if(!n.loaded&&!n.loading){var r=ee();pr<r?ea(t):dr.includes(t)||dr.push(t)}}})},{rootMargin:"200px"}),C(function(){rr.value.forEach(function(e,t){e&&fr.observe(e)})})},na=function(){if(!Vn.value&&or.value){var e=window.pageYOffset||document.documentElement.scrollTop;sr.value=e>200}},ra=function(e){"Escape"===e.key&&Vn.value&&$r()};d(bn,function(){_r()}),d(Sn,function(e){"comments"!==e||Cn.value.length||jn.value||Xr()});var aa=function(){$n.value?da():va()},la=function(){Wn.value?(Wn.value=!1,sa()):(Wn.value=!0,oa())},oa=function(){Zn.value&&(clearInterval(Zn.value),Zn.value=null)},sa=function(){if($n.value)if(Zn.value&&clearInterval(Zn.value),"smooth"===Kn.value)Zn.value=setInterval(function(){if(lr.value){var e=lr.value,t=e.scrollTop;if(t>=e.scrollHeight-e.clientHeight-10)da();else{var n=t+Jn.value/20;e.scrollTo({top:n,behavior:"auto"})}}},50);else{var e=1e3*Qn.value;Zn.value=setInterval(function(){C(function(){var e=lr.value;e&&(e.scrollTop>=e.scrollHeight-e.clientHeight-10?da():e.scrollBy({top:Xn.value,behavior:"smooth"}))})},e)}},ia=function(){localStorage.setItem("autoScrollSpeed",Jn.value.toString()),$n.value&&(da(),va())},ua=function(e){Kn.value=e,localStorage.setItem("autoScrollMode",e),$n.value&&(da(),va())},ca=function(){localStorage.setItem("stepInterval",Qn.value.toString()),localStorage.setItem("stepSize",Xn.value.toString()),$n.value&&"stepped"===Kn.value&&(da(),va())},va=function(){if($n.value=!0,Wn.value=!1,localStorage.setItem("autoScrollEnabled","true"),Zn.value&&clearInterval(Zn.value),"smooth"===Kn.value)Zn.value=setInterval(function(){if(lr.value){var e=lr.value,t=e.scrollTop;if(t>=e.scrollHeight-e.clientHeight-10)da();else{var n=t+Jn.value/20;e.scrollTo({top:n,behavior:"auto"})}}},50);else{var e=1e3*Qn.value;Zn.value=setInterval(function(){C(function(){var e=lr.value;e&&(e.scrollTop>=e.scrollHeight-e.clientHeight-10?da():e.scrollBy({top:Xn.value,behavior:"smooth"}))})},e)}},da=function(){$n.value=!1,Wn.value=!1,localStorage.setItem("autoScrollEnabled","false"),Zn.value&&(clearInterval(Zn.value),Zn.value=null)},pa=function(){var t=r(e().m(function t(){var n,r,a,l,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Pn.value.length&&!tr.value){e.n=1;break}return e.a(2);case 1:if(tr.value=!0,!(On.value<Pn.value.length)){e.n=2;break}return On.value=Pn.value.length,Fn.value=!1,e.n=2,C();case 2:if(e.p=2,fr&&fr.disconnect(),n=[],Pn.value.forEach(function(e,t){e.loaded||e.loading||e.error||n.push(t)}),0!==n.length){e.n=3;break}return tr.value=!1,xn.info("所有图片已加载完成"),e.a(2);case 3:console.log("Loading ".concat(n.length," images...")),r=5,a=0;case 4:if(!(a<n.length)){e.n=7;break}return l=n.slice(a,a+r),e.n=5,Promise.all(l.map(function(e){return new Promise(function(t){ea(e).finally(function(){return t()})})}));case 5:if(!(a+r<n.length)){e.n=6;break}return e.n=6,new Promise(function(e){return setTimeout(e,100)});case 6:a+=r,e.n=4;break;case 7:return console.log("All images loaded successfully"),xn.success("成功加载 ".concat(n.length," 张图片")),e.n=8,C();case 8:ta(),e.n=10;break;case 9:e.p=9,o=e.v,console.error("Failed to load all images:",o),xn.error("部分图片加载失败");case 10:return e.p=10,tr.value=!1,e.f(10);case 11:return e.a(2)}},t,null,[[2,9,10,11]])}));return function(){return t.apply(this,arguments)}}();return p(r(e().m(function t(){var r,a,l;return e().w(function(e){for(;;)switch(e.n){case 0:return Br(),e.n=1,_r();case 1:(r=n.query.chapter)&&hn.isLoggedIn&&(null!==(a=yn.value.series)&&void 0!==a&&a.length?(l=yn.value.series.find(function(e){return e.id==r}))&&Yr(l.id):yn.value.id==r&&Hr()),window.addEventListener("scroll",na),window.addEventListener("keydown",ra);case 2:return e.a(2)}},t)}))),f(function(){da(),fr&&fr.disconnect(),window.removeEventListener("scroll",na),window.removeEventListener("keydown",ra)}),function(e,t){var n=M("router-link");return z(),m(h,{title:yn.value.name||"加载中...","show-bottom-nav":!0,"hide-breadcrumbs":!0},{default:g(function(){var e,r;return[In.value?(z(),L("div",te,[_("div",ne,[V(B)])])):Vn.value?S("",!0):(z(),L("div",re,[_("div",ae,[yn.value.id?(z(),L("div",{key:0,class:"absolute inset-0 h-96 bg-cover bg-center blur-xl opacity-30",style:P({backgroundImage:"url(".concat(Mr(yn.value.id),")")})},null,4)):S("",!0),_("div",le,[_("div",oe,[_("div",se,[_("div",ie,[yn.value.id?(z(),L("img",{key:0,src:Mr(yn.value.id),alt:yn.value.name,class:"w-full h-full object-cover rounded-lg shadow-2xl",onError:Lr},null,40,ue)):(z(),L("div",ce))]),_("button",{onClick:Vr,disabled:kn.value,class:T(["w-full px-4 py-2 rounded-lg font-medium transition-all cursor-pointer flex items-center justify-center gap-2",mr.value?"bg-pink-500/20 backdrop-blur-sm border border-pink-500/50 text-pink-400 hover:bg-pink-500/30 hover:border-pink-400":"bg-gray-800/50 backdrop-blur-sm border border-white/10 text-gray-300 hover:bg-gray-700/50 hover:border-white/20"])},[t[19]||(t[19]=_("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),_("span",null,E(mr.value?"已收藏":"收藏"),1)],10,ve)]),_("div",de,[_("h2",pe,E(yn.value.name),1),_("p",fe,"作者: "+E((null===(e=yn.value.author)||void 0===e?void 0:e.join(" & "))||"未知"),1),_("p",me,"ID: "+E(bn.value),1),_("div",ge,[_("div",he,[t[20]||(t[20]=_("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-pink-400",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),_("span",xe,E(H(O)(yn.value.likes||0)),1),_("span",be,"("+E(hr.value)+"%)",1)]),_("div",ye,[t[21]||(t[21]=_("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),_("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)),_("span",we,E(H(O)(yn.value.total_views||0)),1)]),_("div",ke,[t[22]||(t[22]=_("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{"fill-rule":"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z","clip-rule":"evenodd"})],-1)),_("span",Ce,E(H(O)(yn.value.comment_total||0)),1)])]),gr.value.length?(z(),L("div",Ie,[(z(!0),L(F,null,A(gr.value,function(e){return z(),L("span",{key:e,onClick:function(t){return function(e){l.push({path:"/search",query:{wd:e}})}(e)},class:"px-3 py-1 bg-gray-700/50 backdrop-blur rounded-full text-sm hover:bg-gray-600 transition-colors cursor-pointer"},E(e),9,je)}),128))])):S("",!0),yn.value.description?(z(),L("p",Me,E(yn.value.description),1)):S("",!0)])])])]),_("div",ze,[_("div",Le,[_("button",{onClick:t[0]||(t[0]=function(e){return Sn.value="chapters"}),class:T(["px-4 sm:px-6 py-3 font-semibold transition-colors text-sm sm:text-base","chapters"===Sn.value?"text-pink-500 border-b-2 border-pink-500":"text-gray-400 hover:text-white"])}," 章节选择 ",2),_("button",{onClick:t[1]||(t[1]=function(e){return Sn.value="comments"}),class:T(["px-4 sm:px-6 py-3 font-semibold transition-colors flex items-center gap-2 text-sm sm:text-base","comments"===Sn.value?"text-pink-500 border-b-2 border-pink-500":"text-gray-400 hover:text-white"])},[t[23]||(t[23]=U(" 评论 ",-1)),_("span",Se,"("+E(H(O)(yn.value.comment_total||0))+")",1)],2)]),_("div",Ve,["chapters"===Sn.value?(z(),L("div",_e,[null!==(r=yn.value.series)&&void 0!==r&&r.length?(z(),L("div",Be,[(z(!0),L(F,null,A(yn.value.series,function(e,n){return z(),L("button",{key:e.id,onClick:function(t){return function(e,t){console.log("Chapter clicked:",e,"Index:",t,"Locked:",Er(t)),Er(t)?o.isLoggedIn?ur.value=!0:ir.value=!0:Yr(e)}(e.id,n)},class:T(["relative px-4 py-3 rounded-lg transition-all text-center cursor-pointer transform hover:scale-105 group border",[n===nr.value?"bg-pink-500/20 backdrop-blur-sm border-pink-500/50 hover:bg-pink-500/30 hover:border-pink-400":Er(n)?"bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 hover:shadow-lg border-white/10 hover:border-yellow-500/50":"bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 hover:shadow-lg border-white/10 hover:border-green-500/50"]])},[_("div",Te,[n===nr.value?(z(),L("span",Ee," 上次阅读 ")):!H(o).isLoggedIn&&n<10?(z(),L("span",He," 免费 ")):Er(n)?(z(),L("span",Oe,a(t[24]||(t[24]=[_("svg",{class:"w-3 h-3 mr-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),U(" VIP ",-1)])))):S("",!0)]),_("div",{class:T(["font-semibold transition-colors",{"text-pink-300 group-hover:text-pink-200":n===nr.value,"text-gray-400 group-hover:text-yellow-400":n!==nr.value&&Er(n),"text-white group-hover:text-green-400":n!==nr.value&&!Er(n)}])}," 第"+E(n+1)+"章 ",3)],10,Pe)}),128))])):(z(),L("div",Fe,[_("button",{onClick:t[2]||(t[2]=function(e){return Hr()}),class:"relative px-8 py-4 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 rounded-lg transition-all flex items-center gap-3 cursor-pointer transform hover:scale-105 group shadow-lg hover:shadow-xl"},[Tr()?S("",!0):(z(),L("div",Ae,a(t[25]||(t[25]=[_("span",{class:"inline-flex items-center px-2 py-0.5 text-xs font-bold bg-green-500 text-white rounded-full"}," 免费预览 ",-1)])))),t[26]||(t[26]=_("svg",{class:"w-6 h-6 text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),t[27]||(t[27]=_("span",{class:"text-lg font-semibold text-white"}," 开始阅读 ",-1))]),_("div",Ue,[Tr()?S("",!0):(z(),L("p",De,a(t[28]||(t[28]=[_("span",{class:"text-green-400"},"✨ 免费预览前10页",-1),_("span",{class:"mx-2"},"•",-1),_("span",null,"VIP可阅读完整内容",-1)])))),H(o).isLoggedIn?Tr()?S("",!0):(z(),L("button",{key:2,onClick:t[3]||(t[3]=function(e){return ur.value=!0}),class:"text-yellow-500 hover:text-yellow-400 font-medium"}," 成为VIP ")):(z(),m(n,{key:1,to:"/login",class:"text-pink-500 hover:text-pink-400 font-medium"},{default:g(function(){return a(t[29]||(t[29]=[U(" 立即登录 ",-1)]))}),_:1}))])]))])):S("",!0),"comments"===Sn.value?(z(),L("div",Ge,[Cn.value.length?(z(),L("div",Ye,[(z(!0),L(F,null,A(Cn.value,function(e){return z(),L("div",{key:e.id,class:"bg-gray-900 rounded-lg p-4 flex gap-4"},[_("div",qe,[_("img",{src:(r=e.photo,r&&"nopic-Male.gif"!==r?"https://".concat(o.primaryServer,"/media/users/").concat(r):"/default.jpeg"),alt:e.username,class:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover bg-gray-700",onError:Sr},null,40,Ne)]),_("div",Re,[_("div",$e,[_("span",We,E(e.username),1),_("span",Je,E(e.addtime),1)]),_("p",Ke,E((t=e.content,n=document.createElement("DIV"),n.innerHTML=t,n.textContent||n.innerText||"")),1)])]);var t,n,r}),128))])):jn.value?S("",!0):(z(),L("div",Qe," 暂无评论 ")),jn.value?(z(),L("div",Xe,[V(B)])):S("",!0),Ln.value&&!jn.value?(z(),L("button",{key:3,onClick:Zr,class:"w-full py-3 bg-pink-600 hover:bg-pink-700 text-white rounded-lg font-medium transition-colors cursor-pointer"}," 加载更多评论 ")):S("",!0)])):S("",!0)])]),yn.value.related_list&&yn.value.related_list.length>0?(z(),L("div",Ze,[_("div",et,[t[30]||(t[30]=_("h2",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[_("svg",{class:"w-6 h-6 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"})]),U(" 相关推荐 ")],-1)),_("div",tt,[(z(!0),L(F,null,A(yn.value.related_list.slice(0,12),function(e){return z(),m(Q,{key:e.id,comic:zr(e),"show-category":!1,"show-stats":!1,"show-tags":!1,"show-author":!1,"show-description":!1,"show-collection-date":!1,"show-episode":!1},null,8,["comic"])}),128))])])])):S("",!0)])),Vn.value?(z(),L("div",{key:2,ref_key:"readingContainer",ref:lr,class:"fixed inset-0 z-50 bg-black overflow-y-auto",onScroll:Nr},[_("div",{class:"fixed top-0 left-0 right-0 z-50 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 transition-transform duration-300",style:P({transform:Nn.value?"translateY(0)":"translateY(-100%)"})},[_("div",nt,[_("div",rt,[_("button",{onClick:$r,class:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white text-sm font-medium transition-all flex items-center gap-1.5 cursor-pointer",title:"关闭 (ESC)"},a(t[31]||(t[31]=[_("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),_("span",{class:"hidden sm:inline"},"关闭",-1)]))),_("div",at,[_("span",lt,E(br.value),1),_("span",ot,E(Un.value+1)+"/"+E(Pn.value.length),1)]),_("div",st,[_("span",it,E(br.value),1),_("span",ut,E(Un.value+1)+"/"+E(Pn.value.length),1)]),_("div",ct,[H(hn).isLoggedIn?(z(),L("button",{key:0,onClick:Dr,class:"px-2 sm:px-3 py-1.5 bg-gray-600 hover:bg-gray-700 text-gray-300 rounded-lg transition-all flex items-center gap-1 sm:gap-1.5 cursor-pointer text-sm font-medium",title:"添加书签"},a(t[32]||(t[32]=[_("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})],-1),_("span",{class:"hidden sm:inline"},"书签",-1)])))):S("",!0),_("button",{onClick:t[4]||(t[4]=function(e){return er.value=!0}),class:T(["px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-all flex items-center gap-1 sm:gap-1.5 cursor-pointer",$n.value?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-gray-300"]),title:"自动滚动设置"},[(z(),L("svg",{class:T(["w-4 h-4",$n.value&&"animate-spin-slow"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},a(t[33]||(t[33]=[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},null,-1),_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])),2)),t[34]||(t[34]=_("span",{class:"hidden sm:inline"},"设置",-1))],2),yr.value?(z(),L("button",{key:1,onClick:Kr,class:"px-2 sm:px-3 py-1.5 bg-gray-600 hover:bg-gray-700 rounded-lg text-white text-sm font-medium transition-all flex items-center gap-1 sm:gap-1.5 cursor-pointer",title:"上一话"},a(t[35]||(t[35]=[_("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),_("span",{class:"hidden sm:inline"},"上一话",-1)])))):S("",!0),kr.value?(z(),L("button",{key:2,onClick:Jr,class:T(["px-2 sm:px-3 py-1.5 rounded-lg text-white text-sm font-medium transition-all flex items-center gap-1 sm:gap-1.5 cursor-pointer",jr.value?"bg-yellow-500 hover:bg-yellow-600":"bg-pink-500 hover:bg-pink-600"]),title:jr.value?"下一话(需要VIP)":"下一话"},[jr.value?(z(),L("svg",dt,a(t[36]||(t[36]=[_("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"},null,-1)])))):S("",!0),t[38]||(t[38]=_("span",{class:"hidden sm:inline"},"下一话",-1)),jr.value?S("",!0):(z(),L("svg",pt,a(t[37]||(t[37]=[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]))))],10,vt)):S("",!0)])])]),_("div",ft,[_("div",{class:"h-full bg-gradient-to-r from-pink-500 to-pink-400 transition-all duration-300 ease-out",style:P({width:"".concat(xr.value,"%")})},null,4)])],4),_("div",{class:"fixed top-0 left-0 right-0 z-50 h-1 bg-gray-800",style:P({transform:Nn.value?"translateY(-100%)":"translateY(0)"})},[_("div",{class:"h-full bg-gradient-to-r from-pink-500 to-pink-400 transition-all duration-300 ease-out",style:P({width:"".concat(xr.value,"%")})},null,4)],4),$n.value?(z(),L("button",{key:0,onClick:la,class:"fixed bottom-4 left-4 z-[55] p-2.5 sm:p-3 bg-gray-800/20 hover:bg-gray-800/40 text-white/30 hover:text-white/50 rounded-full backdrop-blur-sm transition-all duration-200 shadow-lg",title:Wn.value?"继续滚动":"暂停滚动"},[Wn.value?(z(),L("svg",gt,a(t[39]||(t[39]=[_("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"},null,-1)])))):(z(),L("svg",ht,a(t[40]||(t[40]=[_("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))))],8,mt)):S("",!0),Tn.value&&!Pn.value.length?(z(),L("div",xt,[_("div",bt,[V(B)])])):S("",!0),En.value?(z(),L("div",yt,[_("div",wt,[t[41]||(t[41]=_("svg",{class:"w-12 h-12 text-red-400 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),_("p",kt,E(En.value),1),_("div",{class:"flex gap-3 justify-center mt-4"},[_("button",{onClick:Qr,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," 重试 "),_("button",{onClick:$r,class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors cursor-pointer"}," 退出 ")])])])):S("",!0),Pn.value.length?(z(),L("div",Ct,[_("div",It,[(z(!0),L(F,null,A(Pn.value.slice(0,On.value),function(e,n){return z(),L("div",{key:n,ref_for:!0,ref:function(e){return rr.value[n]=e},class:T(["comic-image-container relative flex items-center justify-center",{"min-h-[300px] sm:min-h-[500px]":!e.loaded}]),"data-index":n},[e.loaded?S("",!0):(z(),L("div",Mt,[e.error?(z(),L("div",{key:1,onClick:function(e){return function(e){Pn.value[e].error=!1,Pn.value[e].loaded=!1,ea(e)}(n)},class:"cursor-pointer text-red-400 hover:text-red-300 text-center"},a(t[42]||(t[42]=[_("svg",{class:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),_("p",null,"加载失败，点击重试",-1)])),8,Lt)):(z(),L("div",zt,[V(B)]))])),e.needProcess?D((z(),L("canvas",{key:1,ref_for:!0,ref:function(e){return ar.value[n]=e},class:"w-full h-auto block"},null,512)),[[G,e.loaded]]):S("",!0),!e.needProcess&&e.loaded?(z(),L("img",{key:2,src:e.src,alt:"Page ".concat(n+1),class:"w-full h-auto block",onLoad:function(e){return function(e){var t=Pn.value[e];t&&(t.actuallyLoaded=!0,console.log("Image ".concat(e," actually loaded in DOM")))}(n)},onError:function(e){return function(e){var t=Pn.value[e];t&&(t.error=!0,t.loaded=!1,console.error("Image ".concat(e," failed to load in DOM")))}(n)}},null,40,St)):S("",!0)],10,jt)}),128)),Fn.value&&!Gn.value?(z(),L("div",Vt,[_("button",{onClick:qr,disabled:An.value,class:"px-8 py-4 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl font-medium transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer inline-flex items-center gap-2"},[An.value?(z(),L("svg",Pt,a(t[44]||(t[44]=[_("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),_("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])))):(z(),L("svg",Bt,a(t[43]||(t[43]=[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"},null,-1)])))),_("span",null,E(An.value?"加载中...":"加载更多 (剩余 ".concat(Pn.value.length-On.value," 张)")),1)],8,_t),_("p",Tt," 已显示 "+E(On.value)+" / "+E(Pn.value.length)+" 张图片 ",1)])):S("",!0),Gn.value?(z(),L("div",Et,[_("div",Ht,[t[46]||(t[46]=_("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-full mb-2"},[_("svg",{class:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})])],-1)),t[47]||(t[47]=_("h3",{class:"text-xl font-bold text-white"},"需要VIP才能继续阅读",-1)),_("p",Ot," 您已预览前5张图片（共"+E(Yn.value)+"张） ",1),t[48]||(t[48]=_("p",{class:"text-gray-400 text-sm"}," 开通VIP即可解锁全部内容，享受无限阅读体验 ",-1)),_("div",Ft,[H(o).isLoggedIn?S("",!0):(z(),L("button",{key:0,onClick:t[5]||(t[5]=function(e){return ir.value=!0}),class:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors"}," 立即登录 ")),_("button",{onClick:Or,class:"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white rounded-lg font-bold transition-all shadow-lg"},a(t[45]||(t[45]=[_("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1),_("span",null,"立即开通VIP",-1)])))])])])):S("",!0),kr.value&&!Gn.value?(z(),L("div",At,[_("div",{onClick:Wr,class:"relative group cursor-pointer"},[t[58]||(t[58]=_("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-gray-900/50 to-transparent"},null,-1)),_("div",Ut,[t[56]||(t[56]=_("div",{class:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-[1px] bg-gradient-to-r from-transparent via-gray-700 to-transparent"},null,-1)),_("div",Dt,[_("div",Gt,[t[55]||(t[55]=_("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500/0 via-pink-500/10 to-purple-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),_("div",Yt,[t[53]||(t[53]=_("div",{class:"flex-1"},[_("p",{class:"text-gray-400 text-xs sm:text-sm mb-1"},"继续阅读"),_("h3",{class:"text-white text-lg sm:text-xl font-bold mb-2"},"下一话"),_("div",{class:"flex items-center gap-2"},[_("div",{class:"h-1 w-16 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full"}),_("span",{class:"text-gray-500 text-xs"},"轻触继续")])],-1)),_("div",qt,[t[51]||(t[51]=_("div",{class:"absolute inset-0 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 opacity-20 blur-xl group-hover:opacity-40 transition-opacity"},null,-1)),_("div",{class:T(["relative w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center transition-all duration-300 group-hover:scale-110",jr.value?"bg-gradient-to-br from-yellow-500 to-orange-600":"bg-gradient-to-br from-pink-500 to-purple-600"])},[jr.value?(z(),L("svg",Nt,a(t[49]||(t[49]=[_("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"},null,-1)])))):(z(),L("svg",Rt,a(t[50]||(t[50]=[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M13 7l5 5m0 0l-5 5m5-5H6"},null,-1)]))))],2),t[52]||(t[52]=_("div",{class:"absolute inset-0 rounded-full bg-white opacity-0 group-hover:animate-ping"},null,-1))])]),jr.value?(z(),L("div",$t,a(t[54]||(t[54]=[_("p",{class:"text-yellow-400 text-sm flex items-center gap-2"},[_("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),U(" 需要VIP会员才能阅读 ")],-1)])))):S("",!0)])]),t[57]||(t[57]=_("div",{class:"mt-6 text-center sm:hidden"},[_("p",{class:"text-gray-600 text-xs"},"👆 点击任意位置继续")],-1))])])])):S("",!0)])])):S("",!0),(z(),m(Y,{to:"body"},[V(q,{name:"fade"},{default:g(function(){return[er.value?(z(),L("div",{key:0,class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 sm:p-6",onClick:t[13]||(t[13]=N(function(e){return er.value=!1},["self"]))},[_("div",Wt,[t[67]||(t[67]=_("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-2xl blur-sm opacity-50"},null,-1)),_("div",Jt,[_("div",Kt,[t[60]||(t[60]=_("h3",{class:"text-lg sm:text-2xl font-bold text-white flex items-center gap-2"},[_("div",{class:"p-2 bg-pink-500/20 rounded-lg"},[_("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])]),U(" 自动滚动设置 ")],-1)),_("button",{onClick:t[6]||(t[6]=function(e){return er.value=!1}),class:"p-1.5 hover:bg-white/10 rounded-lg transition-colors cursor-pointer"},a(t[59]||(t[59]=[_("svg",{class:"w-4 h-4 text-gray-400 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])))]),"smooth"===Kn.value?(z(),L("div",Qt,[_("label",Xt," 滚动速度: "+E(Jn.value)+" 像素/秒 ",1),D(_("input",{type:"range","onUpdate:modelValue":t[7]||(t[7]=function(e){return Jn.value=e}),onChange:ia,min:"10",max:"500",step:"10",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"},null,544),[[R,Jn.value]]),t[61]||(t[61]=_("div",{class:"flex justify-between text-xs sm:text-sm text-gray-500 mt-2"},[_("span",null,"慢"),_("span",null,"中"),_("span",null,"快"),_("span",null,"极快")],-1))])):S("",!0),"stepped"===Kn.value?(z(),L("div",Zt,[_("div",null,[_("label",en," 跳动间隔: "+E(Qn.value)+" 秒 ",1),D(_("input",{type:"range","onUpdate:modelValue":t[8]||(t[8]=function(e){return Qn.value=e}),onChange:ca,min:"0.5",max:"5",step:"0.5",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"},null,544),[[R,Qn.value]]),t[62]||(t[62]=_("div",{class:"flex justify-between text-xs sm:text-sm text-gray-500 mt-2"},[_("span",null,"快速"),_("span",null,"中等"),_("span",null,"缓慢")],-1))]),_("div",null,[_("label",tn," 跳动距离: "+E(Xn.value)+" 像素 ",1),D(_("input",{type:"range","onUpdate:modelValue":t[9]||(t[9]=function(e){return Xn.value=e}),onChange:ca,min:"50",max:"800",step:"25",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"},null,544),[[R,Xn.value]]),t[63]||(t[63]=_("div",{class:"flex justify-between text-xs sm:text-sm text-gray-500 mt-2"},[_("span",null,"小"),_("span",null,"中"),_("span",null,"大"),_("span",null,"特大")],-1))])])):S("",!0),_("div",nn,[t[64]||(t[64]=_("label",{class:"block text-sm sm:text-base font-medium text-gray-300 mb-2 sm:mb-3"}," 滚动模式 ",-1)),_("div",rn,[_("button",{onClick:t[10]||(t[10]=function(e){return ua("smooth")}),class:T(["px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg text-sm sm:text-base font-medium transition-all cursor-pointer","smooth"===Kn.value?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":"bg-gray-800/50 backdrop-blur-sm border border-white/10 text-gray-300 hover:bg-gray-700/50 hover:border-white/20"])}," 平滑滚动 ",2),_("button",{onClick:t[11]||(t[11]=function(e){return ua("stepped")}),class:T(["px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg text-sm sm:text-base font-medium transition-all cursor-pointer","stepped"===Kn.value?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg":"bg-gray-800/50 backdrop-blur-sm border border-white/10 text-gray-300 hover:bg-gray-700/50 hover:border-white/20"])}," 段落滚动 ",2)]),_("p",an,E("smooth"===Kn.value?"连续平滑滚动":"模拟鼠标滚轮，一次跳一小段"),1)]),_("div",ln,[_("button",{onClick:aa,class:T(["w-full py-2 sm:py-3 px-3 sm:px-4 rounded-md sm:rounded-lg text-xs sm:text-sm font-medium transition-all",$n.value?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])},[$n.value?(z(),L("span",sn,"关闭自动滚动")):(z(),L("span",on,"开启自动滚动"))],2)]),_("div",un,[_("button",{onClick:pa,disabled:tr.value||Ir.value,class:T(["w-full py-2.5 sm:py-3 px-4 sm:px-5 rounded-lg text-sm sm:text-base font-medium transition-all",tr.value?"bg-gray-800/30 text-gray-500 cursor-not-allowed":Ir.value?"bg-green-500/20 border border-green-500/30 text-green-400 cursor-not-allowed":"bg-gray-800/50 backdrop-blur-sm border border-white/10 hover:bg-gray-700/50 hover:border-white/20 text-gray-300 cursor-pointer"])},[Ir.value?(z(),L("span",vn,[t[65]||(t[65]=_("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20"},[_("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),_("span",null,"已加载全部 "+E(Pn.value.length)+" 张图片",1)])):tr.value?(z(),L("span",dn,[t[66]||(t[66]=_("svg",{class:"animate-spin h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24"},[_("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),_("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),_("span",null,"加载中... "+E(Hn.value)+"/"+E(Pn.value.length),1)])):(z(),L("span",pn,"加载全部图片"))],10,cn),_("p",fn,[Ir.value?(z(),L("span",mn,"所有图片已加载完成")):(z(),L("span",gn,"立即加载所有图片，不再等待滚动触发"))])]),_("button",{onClick:t[12]||(t[12]=function(e){return er.value=!1}),class:"w-full py-1.5 sm:py-2 px-3 sm:px-4 bg-gray-800/50 backdrop-blur-sm border border-white/10 hover:bg-gray-700/50 hover:border-white/20 text-gray-300 rounded-md sm:rounded-lg text-xs sm:text-sm font-medium transition-all cursor-pointer"}," 关闭 ")])])])):S("",!0)]}),_:1})]))],544)):S("",!0),V($,{modelValue:ir.value,"onUpdate:modelValue":t[14]||(t[14]=function(e){return ir.value=e}),icon:"lock",title:"需要登录",message:"登录后即可继续阅读","confirm-text":"立即登录","cancel-text":"注册账号",onConfirm:Fr,onCancel:Ar},null,8,["modelValue"]),V($,{modelValue:ur.value,"onUpdate:modelValue":t[15]||(t[15]=function(e){return ur.value=e}),icon:"warning",title:"VIP专享内容",message:"成为VIP会员，解锁全站所有内容","confirm-text":"成为VIP","cancel-text":"返回","confirm-button-class":"bg-yellow-500 hover:bg-yellow-600 text-white",onConfirm:Ur,onCancel:t[16]||(t[16]=function(e){return ur.value=!1})},null,8,["modelValue"]),V($,{modelValue:cr.value,"onUpdate:modelValue":t[17]||(t[17]=function(e){return cr.value=e}),icon:"bookmark",title:"添加书签",message:vr.value,"confirm-text":"确认","cancel-text":"取消","confirm-button-class":"bg-yellow-500 hover:bg-yellow-600 text-white",onConfirm:Gr,onCancel:t[18]||(t[18]=function(e){return cr.value=!1})},null,8,["modelValue","message"])]}),_:1},8,["title"])}}};t("default",o(hn,[["__scopeId","data-v-aa393ed4"]]))}}})}();
