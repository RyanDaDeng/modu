import{k as y,c as l,d as t,e as c,t as h,q as i,g as a,y as _,I as f,F as d,f as g,i as s,x as k,J as b,j as C}from"./index-R3dXyy7_.js";import{_ as m}from"./ComicCard-Vk7YaCoR.js";import"./format-BZgmAhtB.js";const w={class:"bg-gray-900 min-h-screen"},B={class:"container mx-auto px-4 py-6"},j={class:"mb-6"},H={class:"flex items-center justify-between"},S={class:"text-gray-400 mt-1"},V={key:0,class:"text-center py-12"},$={key:1},L={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-3"},M=["onClick"],N={key:2,class:"mt-12"},F={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-3"},I={name:"CollectionView"},J=Object.assign(I,{setup(z){const o=y(),u=n=>{confirm(`确定要移除《${n.name}》吗？`)&&o.toggleCollect(n)},p=()=>{confirm(`确定要清空所有收藏（${o.collectedComics.length}部作品）吗？`)&&(o.collectedComics=[],localStorage.removeItem("collect"))},x=()=>{confirm("确定要清空所有阅读记录吗？")&&(o.readHistory=[],localStorage.removeItem("readHistory"))};return(n,e)=>{const v=f("router-link");return s(),l("div",w,[t("div",B,[t("div",j,[t("div",H,[t("div",null,[e[0]||(e[0]=t("h1",{class:"text-2xl font-bold text-white"},"我的收藏",-1)),t("p",S,"共 "+h(i(o).collectedComics.length)+" 部作品",1)]),i(o).collectedComics.length?(s(),l("button",{key:0,onClick:p,class:"text-sm text-gray-400 hover:text-red-400 transition-colors"}," 清空收藏 ")):c("",!0)])]),i(o).collectedComics.length?(s(),l("div",$,[t("div",L,[(s(!0),l(d,null,g(i(o).collectedComics,r=>(s(),l("div",{key:r.id,class:"relative group"},[a(m,{comic:r},null,8,["comic"]),t("button",{onClick:b(A=>u(r),["prevent"]),class:"absolute top-2 right-2 p-1.5 bg-red-500/90 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-600 z-10",title:"移除收藏"},[...e[4]||(e[4]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,M)]))),128))])])):(s(),l("div",V,[e[2]||(e[2]=t("svg",{class:"w-24 h-24 text-gray-600 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),e[3]||(e[3]=t("p",{class:"text-gray-400 mb-4"},"还没有收藏任何漫画",-1)),a(v,{to:"/latest",class:"inline-block px-6 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors"},{default:_(()=>[...e[1]||(e[1]=[k(" 去看看最新漫画 ",-1)])]),_:1})])),i(o).readHistory.length?(s(),l("div",N,[t("div",{class:"flex items-center justify-between mb-6"},[e[5]||(e[5]=t("h2",{class:"text-xl font-bold text-white"},"最近阅读",-1)),t("button",{onClick:x,class:"text-sm text-gray-400 hover:text-red-400 transition-colors"}," 清空记录 ")]),t("div",F,[(s(!0),l(d,null,g(i(o).readHistory.slice(0,14),r=>(s(),C(m,{key:`history-${r.id}`,comic:r},null,8,["comic"]))),128))])])):c("",!0)])])}}});export{J as default};
