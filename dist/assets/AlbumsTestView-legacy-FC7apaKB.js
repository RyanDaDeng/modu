!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.toStringTag||"@@toStringTag";function l(e,o,a,s){var l=o&&o.prototype instanceof i?o:i,c=Object.create(l.prototype);return t(c,"_invoke",function(e,t,o){var a,s,l,i=0,c=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return a=e,s=0,l=n,f.n=t,u}};function d(e,t){for(s=e,l=t,r=0;!p&&i&&!o&&r<c.length;r++){var o,a=c[r],d=f.p,v=a[2];e>3?(o=v===t)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(s=0,f.v=t,f.n=a[1]):d<v&&(o=e<3||a[0]>t||t>v)&&(a[4]=e,a[5]=t,f.n=v,s=0))}if(o||e>1)return u;throw p=!0,t}return function(o,c,v){if(i>1)throw TypeError("Generator is already running");for(p&&1===c&&d(c,v),s=c,l=v;(r=s<2?n:l)||!p;){a||(s?s<3?(s>1&&(f.n=-1),d(s,l)):f.n=l:f.v=l);try{if(i=2,a){if(s||(o="next"),r=a[o]){if(!(r=r.call(a,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,s<2&&(s=0)}else 1===s&&(r=a.return)&&r.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=n}else if((r=(p=f.n<0)?l:e.call(t,f))!==u)break}catch(r){a=n,s=1,l=r}finally{i=1}}return{value:r,done:p}}}(e,a,s),!0),c}var u={};function i(){}function c(){}function p(){}r=Object.getPrototypeOf;var f=[][a]?r(r([][a]())):(t(r={},a,function(){return this}),r),d=p.prototype=i.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,t(e,s,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=p,t(d,"constructor",p),t(p,"constructor",c),c.displayName="GeneratorFunction",t(p,s,"GeneratorFunction"),t(d),t(d,s,"Generator"),t(d,a,function(){return this}),t(d,"toString",function(){return"[object Generator]"}),(e=function(){return{w:l,m:v}})()}function t(e,n,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}t=function(e,n,r,o){function s(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?a?a(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r:(s("next",0),s("throw",1),s("return",2))},t(e,n,r,o)}function n(e,t,n,r,o,a,s){try{var l=e[a](s),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}System.register(["./index-legacy-AqQVAtWt.js"],function(t,r){"use strict";var o,a,s,l,u,i,c,p,f,d,v,g,h,m,y,b;return{setters:[function(e){o=e.k,a=e.d,s=e.a,l=e.b,u=e.v,i=e.N,c=e.a2,p=e.u,f=e.r,d=e.f,v=e.e,g=e.P,h=e.U,m=e.a3,y=e.$,b=e.a4}],execute:function(){var r={class:"lg:hidden sticky top-0 sm:top-14 z-50 sm:z-30 bg-gray-800 shadow-lg"},x={class:"container mx-auto px-4"},w={class:"flex items-center justify-between h-14"},k={class:"text-sm sm:text-base"},T={class:"text-white font-semibold text-sm sm:text-lg truncate px-2 flex-1 text-center"},j={__name:"PageHeader",props:{title:{type:String,required:!0},backText:{type:String,default:"返回"},backTo:{type:String,default:null}},setup:function(e){var t=e,n=o(),p=function(){t.backTo?n.push(t.backTo):n.back()};return function(t,n){return s(),a("div",r,[l("div",x,[l("div",w,[l("button",{onClick:p,class:"flex items-center space-x-1 sm:space-x-2 text-white hover:text-pink-400 transition-colors flex-shrink-0 cursor-pointer"},[n[0]||(n[0]=l("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)),l("span",k,u(e.backText),1)]),l("h1",T,u(e.title),1),l("div",{class:i(["flex-shrink-0",t.$slots.action?"":"w-12 sm:w-14"])},[c(t.$slots,"action")],2)])])])}}},O={class:"bg-gray-900 min-h-screen"},P={class:"container mx-auto px-4 py-6"},S={class:"mb-6 bg-gray-800 rounded-lg p-4"},_={class:"flex flex-col sm:flex-row gap-2"},R={key:0,class:"text-white"},C={key:1,class:"bg-red-900/20 border border-red-800 rounded p-4 mb-4"},U={class:"text-red-400"},E={key:2,class:"bg-gray-800 rounded p-4 mb-4"},G={class:"text-green-400 text-xs overflow-auto"},L={key:3,class:"bg-gray-800 rounded p-4"},D={class:"text-blue-400 text-xs overflow-auto"};t("default",{__name:"AlbumsTestView",setup:function(t){var r=p(),o=f(!1),i=f(""),c=f(null),x=f(null),w=f(""),k=function(){var t,a=(t=e().m(function t(){var n,a,s,l;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.value.trim()){e.n=1;break}return i.value="Please enter a URL or endpoint",e.a(2);case 1:return o.value=!0,i.value="",c.value=null,x.value=null,e.p=2,(n=w.value.trim()).startsWith("http://")||n.startsWith("https://")||(n.startsWith("/")&&(n=n.substring(1)),n="https://".concat("www.cdnmhwscc.vip","/").concat(n)),console.log("Testing Custom URL:",n),e.n=3,y.get(n,{headers:{token:r.accessToken.token,tokenParam:r.accessToken.tokenParam},timeout:3e4});case 3:if(a=e.v,c.value=a.data,a.data&&a.data.data)try{s=b(r.currentKey,a.data.data),x.value=s,console.log("Decrypted data:",s)}catch(t){console.error("Decryption error:",t),console.log("Could not decrypt, showing raw response")}e.n=5;break;case 4:e.p=4,l=e.v,console.error("Request error:",l),i.value=l.message,l.response&&(c.value=l.response.data);case 5:return e.p=5,o.value=!1,e.f(5);case 6:return e.a(2)}},t,null,[[2,4,5,6]])}),function(){var e=this,r=arguments;return new Promise(function(o,a){var s=t.apply(e,r);function l(e){n(s,o,a,l,u,"next",e)}function u(e){n(s,o,a,l,u,"throw",e)}l(void 0)})});return function(){return a.apply(this,arguments)}}();return function(e,t){return s(),a("div",O,[d(j,{title:"测试页面"}),l("div",P,[l("div",S,[t[1]||(t[1]=l("h2",{class:"text-lg font-bold text-white mb-3"},"Custom URL Test",-1)),l("div",_,[g(l("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return w.value=e}),type:"text",placeholder:"Enter custom endpoint (e.g., /albums?page=1 or full URL)",class:"flex-1 px-3 py-2 bg-gray-700 text-white rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500",onKeyup:m(k,["enter"])},null,544),[[h,w.value]]),l("button",{onClick:k,class:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"}," Test Custom URL ")]),t[2]||(t[2]=l("div",{class:"mt-2 text-xs text-gray-400"},[l("p",null,"Examples:"),l("ul",{class:"ml-4 space-y-1"},[l("li",null,"• /albums?page=1"),l("li",null,"• /categories?slug=doujin&page=2"),l("li",null,"• /search?query=test"),l("li",null,"• https://www.cdnmhwscc.vip/albums?o=mv")])],-1))]),o.value?(s(),a("div",R,"Loading...")):v("",!0),i.value?(s(),a("div",C,[l("p",U,"Error: "+u(i.value),1)])):v("",!0),c.value?(s(),a("div",E,[t[3]||(t[3]=l("h2",{class:"text-lg font-bold text-white mb-2"},"Raw Response:",-1)),l("pre",G,u(JSON.stringify(c.value,null,2)),1)])):v("",!0),x.value?(s(),a("div",L,[t[4]||(t[4]=l("h2",{class:"text-lg font-bold text-white mb-2"},"Decrypted Data:",-1)),l("pre",D,u(JSON.stringify(x.value,null,2)),1)])):v("",!0)])])}}})}}})}();
