!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function i(r,a,l,o){var i=a&&a.prototype instanceof s?a:s,c=Object.create(i.prototype);return n(c,"_invoke",function(r,n,a){var l,o,i,s=0,c=a||[],d=!1,v={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,r){return l=t,o=0,i=e,v.n=r,u}};function b(r,n){for(o=r,i=n,t=0;!d&&s&&!a&&t<c.length;t++){var a,l=c[t],b=v.p,p=l[2];r>3?(a=p===n)&&(i=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=e):l[0]<=b&&((a=r<2&&b<l[1])?(o=0,v.v=n,v.n=l[1]):b<p&&(a=r<3||l[0]>n||n>p)&&(l[4]=r,l[5]=n,v.n=p,o=0))}if(a||r>1)return u;throw d=!0,n}return function(a,c,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&b(c,p),o=c,i=p;(t=o<2?e:i)||!d;){l||(o?o<3?(o>1&&(v.n=-1),b(o,i)):v.n=i:v.v=i);try{if(s=2,l){if(o||(a="next"),t=l[a]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=l.return)&&t.call(l),o<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),o=1);l=e}else if((t=(d=v.n<0)?i:r.call(n,v))!==u)break}catch(t){l=e,o=1,i=t}finally{s=1}}return{value:t,done:d}}}(r,l,o),!0),c}var u={};function s(){}function c(){}function d(){}t=Object.getPrototypeOf;var v=[][l]?t(t([][l]())):(n(t={},l,function(){return this}),t),b=d.prototype=s.prototype=Object.create(v);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,n(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e}return c.prototype=d,n(b,"constructor",d),n(d,"constructor",c),c.displayName="GeneratorFunction",n(d,o,"GeneratorFunction"),n(b),n(b,o,"Generator"),n(b,l,function(){return this}),n(b,"toString",function(){return"[object Generator]"}),(r=function(){return{w:i,m:p}})()}function n(e,t,r,a){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}n=function(e,t,r,a){function o(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?l?l(e,t,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},n(e,t,r,a)}function a(e,t,r,n,a,l,o){try{var i=e[l](o),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,a)}System.register(["./index-legacy-AqQVAtWt.js","./ComicCard-legacy-4HoHt6Uq.js","./BottomDrawer-legacy-DlwZ5u4a.js"],function(t,n){"use strict";var l,o,i,u,s,c,d,v,b,p,f,g,m,y,x,k,h,w,j,C,O;return{setters:[function(e){l=e.z,o=e.B,i=e.r,u=e.o,s=e.c,c=e.w,d=e.A,v=e.a1,b=e.a,p=e.b,f=e.f,g=e.d,m=e.e,y=e.v,x=e.F,k=e.h,h=e.N,w=e.t,j=e.L},function(e){C=e._},function(e){O=e._}],execute:function(){var n=document.createElement("style");n.textContent=".overflow-x-auto[data-v-63110853]{scrollbar-width:none;-ms-overflow-style:none}.overflow-x-auto[data-v-63110853]::-webkit-scrollbar{display:none}\n/*$vite$:1*/",document.head.appendChild(n);var _={class:"container mx-auto px-4 py-6"},S={class:"sm:hidden mb-4"},A={class:"bg-gradient-to-r from-pink-500/10 to-purple-500/10 rounded-xl p-[1px]"},T={class:"bg-gray-900/90 backdrop-blur-xl rounded-xl p-3"},V={class:"relative flex items-center justify-between bg-gray-800/90 backdrop-blur rounded-xl px-4 py-3 border border-gray-700 group-hover:border-pink-500/50 group-active:scale-[0.98] transition-all"},G={class:"flex items-center gap-3"},P={class:"text-left"},E={class:"text-sm font-medium text-white"},F={class:"flex gap-2 overflow-x-auto pb-1"},B=["onClick"],I={key:0,class:"ml-1"},D={class:"hidden sm:block relative mb-4"},M={class:"relative bg-gray-900/60 backdrop-blur-xl border border-white/10 rounded-lg p-4"},U={class:"flex gap-2 mb-4"},$=["onClick"],N={class:"flex gap-2 flex-wrap"},W=["onClick"],z={key:0,class:"ml-1 text-xs"},L={class:"px-4 pb-4"},q={class:"grid grid-cols-3 gap-2"},H=["onClick"],J={class:"px-4 pb-6"},K={class:"grid grid-cols-4 gap-2"},Q=["onClick"],R={key:0,class:"ml-1 text-xs"},X={key:0,class:"flex justify-center py-12"},Y={key:1},Z={class:"text-lg sm:text-xl font-semibold text-white mb-3"},ee={class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-3 md:gap-4"},te={key:2,class:"text-center py-12"},re={name:"UpdatesView"},ne=Object.assign(re,{setup:function(t){var n=[{label:"全部",value:"all"},{label:"日漫",value:"manga"},{label:"韩漫",value:"hanman"}],l=[{label:"周一",value:1},{label:"周二",value:2},{label:"周三",value:3},{label:"周四",value:4},{label:"周五",value:5},{label:"周六",value:6},{label:"周日",value:7},{label:"已完结",value:0}],re=o(function(){var e=(new Date).getDay();return 0===e?7:e}),ne=i("all"),ae=i(re.value),le=i([]),oe=i(!1),ie=i(!1),ue=o(function(){for(var e=re.value,t=[],r=function(){var r=e+n;r<=0&&(r=7+r),r>7&&(r-=7);var a=l.find(function(e){return e.value===r});a&&t.push(a)},n=-1;n<=2;n++)r();return t.push({label:"完结",value:0}),t}),se=function(e){var t,r=null;return e.image&&e.image.startsWith("/media/")?r=null:e.image&&e.image.startsWith("http")&&(r=e.image),{id:e.id,name:e.name,title:e.name,author:e.author,image:r,category:(null===(t=e.category)||void 0===t?void 0:t.title)||"",description:e.description,watched:e.liked?1:0,liked:e.liked?1:0,tags:[]}},ce=function(){var e,t=(e=r().m(function e(){var t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!oe.value){e.n=1;break}return e.a(2);case 1:return oe.value=!0,le.value=[],e.p=2,e.n=3,v(ne.value,ae.value,1);case 3:null!=(t=e.v)&&t.list&&(le.value=t.list),e.n=5;break;case 4:e.p=4,n=e.v,console.error("Failed to load comics:",n);case 5:return e.p=5,oe.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,r=arguments;return new Promise(function(n,l){var o=e.apply(t,r);function i(e){a(o,n,l,i,u,"next",e)}function u(e){a(o,n,l,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),de=function(e){ae.value=e,ce()};return u(function(){ce()}),function(t,r){return b(),s(d,{title:"更新"},{default:c(function(){var t,a,o;return[p("div",_,[p("div",S,[p("div",A,[p("div",T,[p("button",{onClick:r[0]||(r[0]=function(e){return ie.value=!0}),class:"w-full mb-3 relative group"},[r[5]||(r[5]=p("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-xl blur group-active:blur-xl transition-all"},null,-1)),p("div",V,[p("div",G,[r[3]||(r[3]=p("div",{class:"relative"},[p("svg",{class:"w-5 h-5 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})]),p("div",{class:"absolute inset-0 bg-pink-400 blur-lg opacity-50 animate-pulse"})],-1)),p("div",P,[r[2]||(r[2]=p("div",{class:"text-xs text-gray-400 mb-0.5"},"当前筛选",-1)),p("div",E,y(null===(t=n.find(function(e){return e.value===ne.value}))||void 0===t?void 0:t.label)+" · "+y(null===(a=l.find(function(e){return e.value===ae.value}))||void 0===a?void 0:a.label),1)])]),r[4]||(r[4]=p("div",{class:"flex items-center gap-2"},[p("span",{class:"text-xs text-pink-400 font-medium"},"点击修改"),p("div",{class:"bg-pink-500/20 rounded-lg p-1.5 group-hover:bg-pink-500/30 transition-colors"},[p("svg",{class:"w-4 h-4 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])])],-1))])]),p("div",F,[(b(!0),g(x,null,k(ue.value,function(e){return b(),g("button",{key:e.value,onClick:function(t){return de(e.value)},class:h(["flex-shrink-0 px-3 py-1.5 rounded-full text-xs font-medium transition-all",ae.value===e.value?"bg-pink-500/20 text-pink-400 border border-pink-500/50":e.value===re.value?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"bg-gray-800 text-gray-400 border border-gray-700"])},[w(y(e.label)+" ",1),e.value===re.value?(b(),g("span",I,"(今)")):m("",!0)],10,B)}),128))])])])]),p("div",D,[r[6]||(r[6]=p("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500/10 via-purple-500/10 to-blue-500/10 rounded-lg blur-xl"},null,-1)),p("div",M,[p("div",U,[(b(),g(x,null,k(n,function(e){return p("button",{key:e.value,onClick:function(t){return r=e.value,ne.value=r,void ce();var r},class:h(["px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer",ne.value===e.value?"bg-pink-500/20 text-pink-400 border border-pink-500/50":"bg-gray-800/50 text-gray-300 hover:bg-gray-700/50 hover:text-white border border-gray-700"])},y(e.label),11,$)}),64))]),p("div",N,[(b(),g(x,null,k(l,function(e){return p("button",{key:e.value,onClick:function(t){return de(e.value)},class:h(["px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer",ae.value===e.value?"bg-pink-500/20 text-pink-400 border border-pink-500/50":e.value===re.value?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"bg-gray-800/50 text-gray-300 hover:bg-gray-700/50 hover:text-white border border-gray-700"])},[w(y(e.label)+" ",1),e.value===re.value?(b(),g("span",z," (今日) ")):m("",!0)],10,W)}),64))])])]),f(O,{modelValue:ie.value,"onUpdate:modelValue":r[1]||(r[1]=function(e){return ie.value=e}),title:"选择筛选条件",class:"sm:hidden"},{default:c(function(){return[p("div",L,[r[7]||(r[7]=p("div",{class:"text-sm text-gray-400 mb-3"},"类型",-1)),p("div",q,[(b(),g(x,null,k(n,function(e){return p("button",{key:e.value,onClick:function(t){return r=e.value,ne.value=r,ie.value=!1,void ce();var r},class:h(["py-3 rounded-lg text-sm font-medium transition-colors",ne.value===e.value?"bg-pink-500/20 text-pink-400 border border-pink-500/50":"bg-gray-800 text-gray-300 border border-gray-700"])},y(e.label),11,H)}),64))])]),p("div",J,[r[8]||(r[8]=p("div",{class:"text-sm text-gray-400 mb-3"},"更新日期",-1)),p("div",K,[(b(),g(x,null,k(l,function(e){return p("button",{key:e.value,onClick:function(t){return r=e.value,ae.value=r,ie.value=!1,void ce();var r},class:h(["py-3 rounded-lg text-sm font-medium transition-colors relative",ae.value===e.value?"bg-pink-500/20 text-pink-400 border border-pink-500/50":e.value===re.value?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"bg-gray-800 text-gray-300 border border-gray-700",0===e.value?"col-span-4":""])},[w(y(e.label)+" ",1),e.value===re.value?(b(),g("span",R,"(今)")):m("",!0)],10,Q)}),64))])])]}),_:1},8,["modelValue"]),oe.value?(b(),g("div",X,[f(j)])):le.value.length>0?(b(),g("div",Y,[p("h2",Z,y(null===(o=l.find(function(e){return e.value===ae.value}))||void 0===o?void 0:o.label)+"更新 ",1),p("div",ee,[(b(!0),g(x,null,k(le.value,function(e){return b(),s(C,{key:e.id,comic:se(e)},null,8,["comic"])}),128))])])):oe.value?m("",!0):(b(),g("div",te,e(r[9]||(r[9]=[p("p",{class:"text-gray-400"},"暂无更新",-1)]))))])]}),_:1})}}});t("default",l(ne,[["__scopeId","data-v-63110853"]]))}}})}();
