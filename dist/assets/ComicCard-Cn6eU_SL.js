import{u as t,K as e,c as a,a as o,w as r,b as c,d as s,e as i,x as l,v as n,t as m,O as p,F as d,h as u,H as g}from"./index-Z6t8nurF.js";const x={class:"relative bg-gray-900/60 backdrop-blur-sm border border-white/10 rounded-lg overflow-hidden group-hover:border-pink-500/30 transition-all"},f={class:"relative aspect-[3/4] bg-gray-800/50"},h=["src","alt"],y={key:0,class:"absolute top-1 left-1 sm:top-2 sm:left-2"},b={class:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-[10px] sm:text-xs bg-pink-600/70 backdrop-blur-sm border border-pink-400/60 text-white font-medium rounded-full"},v={key:1,class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1 sm:p-2"},w={class:"flex items-center justify-between text-white text-[10px] sm:text-xs"},k={class:"flex items-center gap-0.5 sm:gap-1"},$={key:0,class:"flex items-center gap-0.5 sm:gap-1"},j={class:"p-1.5 sm:p-2"},M={class:"text-xs sm:text-sm font-semibold text-white truncate"},C={key:0,class:"text-[10px] sm:text-xs text-gray-400 mt-0.5 truncate"},_={key:1,class:"text-[10px] sm:text-xs text-gray-400 mt-0.5 truncate"},z={key:2,class:"hidden sm:flex flex-wrap gap-1 mt-1"},D={__name:"ComicCard",props:{comic:{type:Object,required:!0},showCollectionDate:{type:Boolean,default:!1}},setup(D){t();const S=D,B=()=>{if(S.comic.image)return S.comic.image;return`${g()}/media/albums/${S.comic.id}_3x4.jpg`},A=t=>{t.target.src="/default.jpeg"},F=t=>{const e=new Date(t),a=new Date-e,o=Math.floor(a/864e5);if(0===o)return"今天";if(1===o)return"昨天";if(o<7)return`${o}天前`;if(o<30){return`${Math.floor(o/7)}周前`}if(o<365){return`${Math.floor(o/30)}个月前`}return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`};return(t,g)=>{const S=e("router-link");return o(),a(S,{to:`/chapter/${D.comic.id}`,class:"block relative group"},{default:r(()=>[g[2]||(g[2]=c("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-lg opacity-0 group-hover:opacity-50 blur-sm transition-opacity"},null,-1)),c("div",x,[c("div",f,[c("img",{src:B(),alt:D.comic.name,class:"w-full h-full object-cover group-hover:opacity-90 transition-opacity",loading:"lazy",onError:A},null,40,h),D.comic.category?(o(),s("div",y,[c("span",b,l("object"==typeof D.comic.category?D.comic.category.title||D.comic.category.name||"":D.comic.category),1)])):i("",!0),D.comic.watched?(o(),s("div",v,[c("div",w,[c("span",k,[g[0]||(g[0]=c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),c("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)),n(" "+l(m(p)(D.comic.watched)),1)]),D.comic.liked?(o(),s("span",$,[g[1]||(g[1]=c("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),n(" "+l(m(p)(D.comic.liked)),1)])):i("",!0)])])):i("",!0)]),c("div",j,[c("h3",M,l(D.comic.name||D.comic.title||"Unknown"),1),D.showCollectionDate&&D.comic.created_at?(o(),s("p",C," 收藏于 "+l(F(D.comic.created_at)),1)):D.comic.author||D.comic.authors?(o(),s("p",_,l(D.comic.author||(Array.isArray(D.comic.authors)?D.comic.authors.join(", "):D.comic.authors)||""),1)):i("",!0),D.comic.tags&&D.comic.tags.length?(o(),s("div",z,[(o(!0),s(d,null,u(D.comic.tags.slice(0,2),t=>(o(),s("span",{key:t,class:"px-1.5 py-0.5 text-xs bg-gray-700 text-gray-300 rounded"},l(t),1))),128))])):i("",!0)])])]),_:1},8,["to"])}}};export{D as _};
