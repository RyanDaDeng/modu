import{a0 as h,a1 as _,r as b,c as V,w as u,A as C,j as M,z as j,a as i,b as t,f as p,a2 as B,H as a,R as q,d,e as g,I as m,M as x,C as y,a3 as S}from"./index-Doa-ydpg.js";const U={class:"flex items-center justify-center px-4 py-12"},A={class:"max-w-md w-full space-y-8 bg-gray-800/50 backdrop-blur-sm rounded-xl p-8"},N={class:"text-center space-y-4"},R={class:"flex justify-center mb-6"},z={class:"text-gray-400"},D={class:"space-y-4"},H={key:0,class:"mt-1 text-sm text-red-400"},L={key:0,class:"mt-1 text-sm text-red-400"},T={key:0,class:"mt-1 text-sm text-red-400"},E={class:"flex items-start"},I={for:"terms",class:"ml-2 block text-sm text-gray-400"},F={key:0,class:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 rounded"},G=["disabled"],J={key:0,class:"flex items-center gap-2"},K={key:1},O={class:"text-center"},W={__name:"RegisterView",setup(P){const v=M(),k=h(),s=_({name:"",email:"",password:"",password_confirmation:"",terms:!1}),r=b({}),n=b(""),c=b(!1),w=async()=>{if(s.password!==s.password_confirmation){n.value="两次输入的密码不一致";return}c.value=!0,r.value={},n.value="";try{const l=await k.register({name:s.name,email:s.email,password:s.password,password_confirmation:s.password_confirmation});l.success?v.push("/"):n.value=l.message||"注册失败，请检查您的信息"}catch(l){l.errors?r.value=l.errors:l.message?n.value=l.message:n.value="注册失败，请检查您的信息"}finally{c.value=!1}};return(l,e)=>{const f=j("router-link");return i(),V(C,{title:"注册"},{default:u(()=>[t("div",U,[t("div",A,[t("div",N,[t("div",R,[p(B)]),e[7]||(e[7]=t("h2",{class:"text-2xl font-bold text-white"},"创建新账户",-1)),t("p",z,[e[6]||(e[6]=a(" 已有账户？ ",-1)),p(f,{to:"/login",class:"text-pink-500 hover:text-pink-400 transition-colors"},{default:u(()=>[...e[5]||(e[5]=[a(" 立即登录 ",-1)])]),_:1})])]),t("form",{onSubmit:q(w,["prevent"]),class:"mt-8 space-y-6"},[t("div",D,[t("div",null,[e[8]||(e[8]=t("label",{for:"name",class:"block text-sm font-medium text-gray-300"}," 用户名 ",-1)),m(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>s.name=o),type:"text",autocomplete:"username",required:"",class:"mt-1 block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all",placeholder:"您的用户名"},null,512),[[x,s.name]]),r.value.name?(i(),d("p",H,y(r.value.name[0]),1)):g("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"email",class:"block text-sm font-medium text-gray-300"}," 邮箱地址 ",-1)),m(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>s.email=o),type:"email",autocomplete:"email",required:"",class:"mt-1 block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all",placeholder:"your@email.com"},null,512),[[x,s.email]]),r.value.email?(i(),d("p",L,y(r.value.email[0]),1)):g("",!0)]),t("div",null,[e[10]||(e[10]=t("label",{for:"password",class:"block text-sm font-medium text-gray-300"}," 密码 ",-1)),m(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>s.password=o),type:"password",autocomplete:"new-password",required:"",class:"mt-1 block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all",placeholder:"至少8个字符"},null,512),[[x,s.password]]),r.value.password?(i(),d("p",T,y(r.value.password[0]),1)):g("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-300"}," 确认密码 ",-1)),m(t("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=o=>s.password_confirmation=o),type:"password",autocomplete:"new-password",required:"",class:"mt-1 block w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all",placeholder:"再次输入密码"},null,512),[[x,s.password_confirmation]])])]),t("div",E,[m(t("input",{id:"terms","onUpdate:modelValue":e[4]||(e[4]=o=>s.terms=o),type:"checkbox",required:"",class:"h-4 w-4 mt-1 text-pink-500 focus:ring-pink-500 bg-gray-900/50 border-gray-700 rounded cursor-pointer"},null,512),[[S,s.terms]]),t("label",I,[e[14]||(e[14]=a(" 我已阅读并同意 ",-1)),p(f,{to:"/terms",target:"_blank",class:"text-pink-500 hover:text-pink-400"},{default:u(()=>[...e[12]||(e[12]=[a("服务条款",-1)])]),_:1}),e[15]||(e[15]=a(" 和 ",-1)),p(f,{to:"/privacy",target:"_blank",class:"text-pink-500 hover:text-pink-400"},{default:u(()=>[...e[13]||(e[13]=[a("隐私政策",-1)])]),_:1})])]),n.value?(i(),d("div",F,y(n.value),1)):g("",!0),t("button",{type:"submit",disabled:c.value||!s.terms,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02]"},[c.value?(i(),d("span",J,[...e[16]||(e[16]=[t("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),a(" 注册中... ",-1)])])):(i(),d("span",K,"注册"))],8,G),e[18]||(e[18]=t("div",{class:"relative mt-6"},[t("div",{class:"absolute inset-0 flex items-center"},[t("div",{class:"w-full border-t border-gray-700/50"})]),t("div",{class:"relative flex justify-center text-sm"},[t("span",{class:"px-2 bg-gray-800/50 text-gray-400"},"或者")])],-1)),t("div",O,[p(f,{to:"/",class:"inline-flex items-center gap-2 text-gray-400 hover:text-pink-500 transition-colors"},{default:u(()=>[...e[17]||(e[17]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),a(" 返回首页 ",-1)])]),_:1})])],32)])])]),_:1})}}};export{W as default};
