!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}System.register(["./index-legacy-AqQVAtWt.js"],function(e,o){"use strict";var a,r,c,i,n,l,s,d,m,p,u,h,f,g,y;return{setters:[function(t){a=t.z,r=t.K,c=t.c,i=t.a,n=t.w,l=t.b,s=t.d,d=t.e,m=t.v,p=t.t,u=t.s,h=t.O,f=t.F,g=t.h,y=t.H}],execute:function(){var o=document.createElement("style");o.textContent=".line-clamp-1[data-v-d3497c44]{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.line-clamp-2[data-v-d3497c44]{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}\n/*$vite$:1*/",document.head.appendChild(o);var b={class:"relative bg-gray-900/60 backdrop-blur-sm border border-white/10 rounded-lg overflow-hidden group-hover:border-pink-500/30 transition-all duration-300 hover:shadow-xl hover:shadow-pink-500/20 flex flex-col"},x={class:"relative aspect-[3/4] bg-gray-800/50 overflow-hidden flex-shrink-0"},w=["src","alt","loading"],v={key:0,class:"absolute top-1 left-1 sm:top-2 sm:left-2 z-10"},k={class:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-[10px] sm:text-xs bg-pink-600/70 backdrop-blur-sm border border-pink-400/60 text-white font-medium rounded-full shadow-lg"},D={key:1,class:"absolute top-1 right-1 sm:top-2 sm:right-2 z-10"},S={class:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-[10px] sm:text-xs bg-blue-600/70 backdrop-blur-sm border border-blue-400/60 text-white font-medium rounded-full shadow-lg"},C={key:2,class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-1 sm:p-2"},M={class:"flex items-center justify-between text-white text-[10px] sm:text-xs"},B={key:0,class:"flex items-center gap-0.5 sm:gap-1"},z={key:1,class:"flex items-center gap-0.5 sm:gap-1"},_={key:3,class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-1 sm:p-2"},j={class:"text-white text-[10px] sm:text-xs text-center"},A={class:"p-1.5 sm:p-2 md:p-3 flex flex-col"},E={class:"text-xs sm:text-sm font-semibold text-white line-clamp-1 group-hover:text-pink-400 transition-colors truncate"},L={class:"text-[10px] sm:text-xs text-gray-400 mt-0.5 truncate min-h-[1rem]"},U={key:0,class:"text-[10px] sm:text-xs text-gray-500 mt-1 line-clamp-2 hidden sm:block min-h-[2rem]"},T={key:1,class:"hidden sm:flex flex-wrap gap-1 mt-1 min-h-[1.25rem]"},N={__name:"UnifiedComicCard",props:{comic:{type:Object,required:!0},showCategory:{type:Boolean,default:!0},showEpisode:{type:Boolean,default:!1},showStats:{type:Boolean,default:!0},showAuthor:{type:Boolean,default:!0},showDescription:{type:Boolean,default:!1},showTags:{type:Boolean,default:!1},showCollectionDate:{type:Boolean,default:!1},showUpdateDate:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!0}},setup:function(e){var o=e,a=function(){if(o.comic.image)return o.comic.image;var t=y();return"".concat(t,"/media/albums/").concat(o.comic.id,"_3x4.jpg")},N=function(t){t.target.src="/default.jpeg"},F=function(){return o.comic.category?"object"===t(o.comic.category)?o.comic.category.title||o.comic.category.name||"":o.comic.category:""},H=function(t){var e=new Date(t),o=new Date-e,a=Math.floor(o/864e5);if(0===a)return"今天";if(1===a)return"昨天";if(a<7)return"".concat(a,"天前");if(a<30){var r=Math.floor(a/7);return"".concat(r,"周前")}if(a<365){var c=Math.floor(a/30);return"".concat(c,"个月前")}return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))};return function(t,y){var I=r("router-link");return i(),c(I,{to:"/chapter/".concat(e.comic.id),class:"block relative group"},{default:n(function(){return[y[3]||(y[3]=l("div",{class:"absolute inset-0 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 rounded-lg opacity-0 group-hover:opacity-50 blur-sm transition-all duration-300"},null,-1)),l("div",b,[l("div",x,[l("img",{src:a(),alt:e.comic.name||e.comic.title,class:"absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",loading:e.lazyLoad?"lazy":"eager",onError:N},null,40,w),y[2]||(y[2]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),e.showCategory&&F()?(i(),s("div",v,[l("span",k,m(F()),1)])):d("",!0),e.showEpisode&&e.comic.episode?(i(),s("div",D,[l("span",S,m(e.comic.episode)+"话 ",1)])):d("",!0),e.showStats&&(e.comic.watched||e.comic.liked)?(i(),s("div",C,[l("div",M,[e.comic.watched?(i(),s("span",B,[y[0]||(y[0]=l("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),l("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)),p(" "+m(u(h)(e.comic.watched)),1)])):d("",!0),e.comic.liked?(i(),s("span",z,[y[1]||(y[1]=l("svg",{class:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1)),p(" "+m(u(h)(e.comic.liked)),1)])):d("",!0)])])):d("",!0),e.showUpdateDate&&e.comic.datetime_updated?(i(),s("div",_,[l("div",j,m((c=e.comic.datetime_updated,n=new Date(c),I=new Date-n,O=Math.floor(I/36e5),$=Math.floor(I/864e5),O<1?"刚刚更新":O<24?"".concat(O,"小时前"):1===$?"昨天":$<7?"".concat($,"天前"):"".concat(n.getMonth()+1,"月").concat(n.getDate(),"日"))),1)])):d("",!0)]),l("div",A,[l("h3",E,m(e.comic.name||e.comic.title||"Unknown"),1),l("p",L,[e.showCollectionDate&&e.comic.created_at?(i(),s(f,{key:0},[p(" 收藏于 "+m(H(e.comic.created_at)),1)],64)):e.showAuthor?(i(),s(f,{key:1},[p(m((o.comic.author?Array.isArray(o.comic.author)?o.comic.author.join(", "):o.comic.author:o.comic.authors?Array.isArray(o.comic.authors)?o.comic.authors.join(", "):o.comic.authors:"")||"N/A"),1)],64)):(i(),s(f,{key:2},[p("   ")],64))]),e.showDescription?(i(),s("p",U,m(e.comic.description?(t=e.comic.description,r=document.createElement("DIV"),r.innerHTML=t||"",r.textContent||r.innerText||""):"N/A"),1)):d("",!0),e.showTags?(i(),s("div",T,[(i(!0),s(f,null,g(e.comic.tags&&e.comic.tags.length?e.comic.tags.slice(0,2):["N/A"],function(t){return i(),s("span",{key:t,class:"px-1.5 py-0.5 text-[10px] bg-gray-800/70 backdrop-blur-sm border border-white/10 text-gray-300 rounded-full"},m(t),1)}),128))])):d("",!0)])])];var t,r,c,n,I,O,$}),_:1},8,["to"])}}};e("U",a(N,[["__scopeId","data-v-d3497c44"]]))}}})}();
